<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>casacore: python/Converters/PycArrayComH.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7837fde3ab9c1fb2fc5be7b717af8d79.html">python</a></li><li class="navelem"><a class="el" href="dir_e8e20c8bc0f508f00fab2f66bbf6f63f.html">Converters</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">PycArrayComH.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a href="PycArrayComH_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structArrayCopy.html">ArrayCopy&lt; T &gt;</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy/convert the array data as needed.  <a href="structArrayCopy.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structArrayCopy_3_01Complex_01_4.html">ArrayCopy&lt; Complex &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structArrayCopy_3_01DComplex_01_4.html">ArrayCopy&lt; DComplex &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structArrayCopy_3_01String_01_4.html">ArrayCopy&lt; String &gt;</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac675a5e0f675d96053ea1da66522ae25"><td class="memItemLeft" align="right" valign="top">Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__Converters__module.html#gac675a5e0f675d96053ea1da66522ae25">PycArrayCheck</a> (PyObject *obj_ptr)</td></tr>
<tr class="memdesc:gac675a5e0f675d96053ea1da66522ae25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the PyObject is an array object.  <a href="group__Converters__module.html#gac675a5e0f675d96053ea1da66522ae25">More...</a><br/></td></tr>
<tr class="separator:gac675a5e0f675d96053ea1da66522ae25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab39c1a71c6078ea662f8133b93083215"><td class="memItemLeft" align="right" valign="top">Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#ab39c1a71c6078ea662f8133b93083215">isImported</a> ()</td></tr>
<tr class="memdesc:ab39c1a71c6078ea662f8133b93083215"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the API is or can be imported.  <a href="#ab39c1a71c6078ea662f8133b93083215">More...</a><br/></td></tr>
<tr class="separator:ab39c1a71c6078ea662f8133b93083215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e887b08f02ebdd26f40cb5a3d776424"><td class="memItemLeft" align="right" valign="top">Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#a1e887b08f02ebdd26f40cb5a3d776424">canImport</a> ()</td></tr>
<tr class="separator:a1e887b08f02ebdd26f40cb5a3d776424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8d9be5f6512e342598d09d3fa6aaeda"><td class="memItemLeft" align="right" valign="top">Bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#ae8d9be5f6512e342598d09d3fa6aaeda">importArray</a> ()</td></tr>
<tr class="separator:ae8d9be5f6512e342598d09d3fa6aaeda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff725c7480ca11f8122f5c437ea0c615"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#aff725c7480ca11f8122f5c437ea0c615">loadAPI</a> ()</td></tr>
<tr class="separator:aff725c7480ca11f8122f5c437ea0c615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf783f6d6ec8f3279c7d460660f0c413"><td class="memItemLeft" align="right" valign="top">ValueHolder&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#acf783f6d6ec8f3279c7d460660f0c413">makeArray</a> (PyObject *obj_ptr, Bool copyData)</td></tr>
<tr class="memdesc:acf783f6d6ec8f3279c7d460660f0c413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the python array to a Casacore array in the ValueHolder.  <a href="#acf783f6d6ec8f3279c7d460660f0c413">More...</a><br/></td></tr>
<tr class="separator:acf783f6d6ec8f3279c7d460660f0c413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfaef3f9d5b152b4697f51b2f4e4907"><td class="memItemLeft" align="right" valign="top">Array&lt; String &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#a4cfaef3f9d5b152b4697f51b2f4e4907">ArrayCopyStr_toArray</a> (const IPosition &amp;shape, void *data, size_t slen)</td></tr>
<tr class="separator:a4cfaef3f9d5b152b4697f51b2f4e4907"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596e05c217fa6cd0d6cbdd7783d3783e"><td class="memItemLeft" align="right" valign="top">Array&lt; String &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#a596e05c217fa6cd0d6cbdd7783d3783e">ArrayCopyUnicode_toArray</a> (const IPosition &amp;shape, void *data, size_t slen)</td></tr>
<tr class="separator:a596e05c217fa6cd0d6cbdd7783d3783e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62bcee65b83e88a19e18594c3033fa96"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a62bcee65b83e88a19e18594c3033fa96"><td class="memTemplItemLeft" align="right" valign="top">boost::python::object&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="PycArrayComH_8h.html#a62bcee65b83e88a19e18594c3033fa96">makePyArrayObject</a> (<a class="el" href="classcasacore_1_1Array.html">casacore::Array</a>&lt; T &gt; const &amp;arr)</td></tr>
<tr class="memdesc:a62bcee65b83e88a19e18594c3033fa96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert a Casacore array to a Python array object.  <a href="#a62bcee65b83e88a19e18594c3033fa96">More...</a><br/></td></tr>
<tr class="separator:a62bcee65b83e88a19e18594c3033fa96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a4cfaef3f9d5b152b4697f51b2f4e4907"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;String&gt; ArrayCopyStr_toArray </td>
          <td>(</td>
          <td class="paramtype">const IPosition &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="PycArrayComCC_8h_source.html#l00278">makeArray()</a>.</p>

</div>
</div>
<a class="anchor" id="a596e05c217fa6cd0d6cbdd7783d3783e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Array&lt;String&gt; ArrayCopyUnicode_toArray </td>
          <td>(</td>
          <td class="paramtype">const IPosition &amp;&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>slen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="PycArrayComCC_8h_source.html#l00278">makeArray()</a>.</p>

</div>
</div>
<a class="anchor" id="a1e887b08f02ebdd26f40cb5a3d776424"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Bool canImport </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="PycArrayComH_8h_source.html#l00034">34</a> of file <a class="el" href="PycArrayComH_8h_source.html">PycArrayComH.h</a>.</p>

<p>References <a class="el" href="aipstype_8h_source.html#l00043">casacore::True</a>.</p>

</div>
</div>
<a class="anchor" id="ae8d9be5f6512e342598d09d3fa6aaeda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool importArray </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Referenced by <a class="el" href="PycArrayComCC_8h_source.html#l00054">casacore::python::numpy::loadAPI()</a>.</p>

</div>
</div>
<a class="anchor" id="ab39c1a71c6078ea662f8133b93083215"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Bool isImported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if the API is or can be imported. </p>
<p>PySys_GetObject uses char* instead of const char*, so use a cast. </p>

<p>Definition at line <a class="el" href="PycArrayComCC_8h_source.html#l00044">44</a> of file <a class="el" href="PycArrayComCC_8h_source.html">PycArrayComCC.h</a>.</p>

</div>
</div>
<a class="anchor" id="aff725c7480ca11f8122f5c437ea0c615"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadAPI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="PycArrayComCC_8h_source.html#l00054">54</a> of file <a class="el" href="PycArrayComCC_8h_source.html">PycArrayComCC.h</a>.</p>

</div>
</div>
<a class="anchor" id="acf783f6d6ec8f3279c7d460660f0c413"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ValueHolder makeArray </td>
          <td>(</td>
          <td class="paramtype">PyObject *&#160;</td>
          <td class="paramname"><em>obj_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Bool&#160;</td>
          <td class="paramname"><em>copyData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the python array to a Casacore array in the ValueHolder. </p>
<p>If copyData is True, the array data is always copied. Otherwise only if needed. </p>
<p>incr refcount, because ~object decrements it</p>
<p>Swap axes, because Casacore has row minor and Python row major order. A scalar is treated as a vector with length 1.</p>
<p>Assert array is contiguous now. If the array is empty, numarray still sees it as non-contiguous.</p>
<p>&amp;&amp; PyArray_ISALIGNED(po) fails on MIPS (see issue 531)</p>
<p>Create the correct array.</p>
<p>Some types can be the same as other types, so they cannot be used in the switch (compiler complains). This is true for BYTE and SBYTE which can equal to BOOL in numarray. Similarly for STRING which exists for numpy and is set to INT for numarray.</p>
<p>Copy using Char, because uChar is mapped to Short in the Traits. </p>

<p>Definition at line <a class="el" href="PycArrayComCC_8h_source.html#l00278">278</a> of file <a class="el" href="PycArrayComCC_8h_source.html">PycArrayComCC.h</a>.</p>

<p>References <a class="el" href="Assert_8h_source.html#l00157">AlwaysAssert</a>, <a class="el" href="PycArrayComH_8h.html#a4cfaef3f9d5b152b4697f51b2f4e4907">ArrayCopyStr_toArray()</a>, <a class="el" href="PycArrayComH_8h.html#a596e05c217fa6cd0d6cbdd7783d3783e">ArrayCopyUnicode_toArray()</a>, <a class="el" href="aipstype_8h_source.html#l00044">casacore::False</a>, <a class="el" href="PycArrayComCC_8h_source.html#l00035">casacore::python::PycArrayCheck()</a>, and <a class="el" href="PycArrayComCC_8h_source.html#l00173">ArrayCopy&lt; T &gt;::toArray()</a>.</p>

</div>
</div>
<a class="anchor" id="a62bcee65b83e88a19e18594c3033fa96"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">boost::python::object makePyArrayObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1Array.html">casacore::Array</a>&lt; T &gt; const &amp;&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert a Casacore array to a Python array object. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
