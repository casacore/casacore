
Testing MaskedArrays.
 x=1;
 indgen (y);

x= 
[1, 1, 1, 1, 1]

y= 
[0, 1, 2, 3, 4]

b= (x <= y) = 
[0, 1, 1, 1, 1]

z= 
[0, 0, 0, 0, 0]

z= 
[0, 5, 5, 5, 5]

z= 
[0, 6, 6, 6, 6]

z= 
[0, 7, 7, 7, 7]

z= 
[0, 8, 8, 8, 8]

ycc(ycc<18)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
(yc(yc<18))(yc>3)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
(yc(yc<18))(yc>3) = 8; yc=
[0, 1, 2, 3, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 18, 19, 20, 21, 22, 23]

yc((yc<18)(yc>3))=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
yc((yc<18)(yc>3)) = 8; yc=
[0, 1, 2, 3, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 18, 19, 20, 21, 22, 23]

(yc(yc>7)) ((yc<18)(yc>3))=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
(yc(yc>7)) ((yc<18)(yc>3)) = 8; yc=
[0, 1, 2, 3, 4, 5, 6, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 18, 19, 20, 21, 22, 23]

ycc1(ycc>7)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
ycc2(ycc>7)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
ycc3(ycc>7)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
ycc4(ycc>7)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
yc(yc>7)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
ycc(ycc>7)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]

ycc2=ycc1([15,18],[14,19])=
Array: Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[295, 315, 335, 355, 375, 395
 296, 316, 336, 356, 376, 396
 297, 317, 337, 357, 377, 397
 298, 318, 338, 358, 378, 398]

Mask:  Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[1, 1, 0, 0, 0, 0
 1, 1, 1, 1, 1, 1
 1, 1, 0, 0, 0, 0
 1, 1, 1, 1, 1, 1]

ycc2([1,3],[0,4],[1,2])=
Array: Axis Lengths: [3, 3]  (NB: Matrix in Row/Column order)
[296, 336, 376
 297, 337, 377
 298, 338, 378]

Mask:  Axis Lengths: [3, 3]  (NB: Matrix in Row/Column order)
[1, 1, 1
 1, 0, 0
 1, 1, 1]


w= 
[6, 7, 8, 9, 10]

w= z(w<z) = 
[6, 8, 8, 9, 10]

ycc(ycc<18)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
(yc(yc<18))(yc>3)=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
(yc(yc<18))(yc>3) = 8; yc=
[0, 1, 2, 3, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 18, 19, 20, 21, 22, 23]

yc((yc<18)(yc>3))=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
yc((yc<18)(yc>3)) = 8; yc=
[0, 1, 2, 3, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 18, 19, 20, 21, 22, 23]

(yc(yc>7)) ((yc<18)(yc>3))=
Array: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23]
Mask:  [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0]
(yc(yc>7)) ((yc<18)(yc>3)) = 8; yc=
[0, 1, 2, 3, 4, 5, 6, 7, 8, 8, 8, 8, 8, 8, 8, 8, 8, 8, 18, 19, 20, 21, 22, 23]

v8= 
Axis Lengths: [5, 3]  (NB: Matrix in Row/Column order)
[8, 8, 8
 8, 8, 8
 8, 8, 8
 8, 8, 8
 8, 8, 8]


v= 
Axis Lengths: [5, 3]  (NB: Matrix in Row/Column order)
[0, 5, 10
 1, 6, 11
 2, 7, 12
 3, 8, 13
 4, 9, 14]


v= v8(v<v8) = 
Axis Lengths: [5, 3]  (NB: Matrix in Row/Column order)
[8, 8, 10
 8, 8, 11
 8, 8, 12
 8, 8, 13
 8, 9, 14]


v(v<9)= 9 = 
Axis Lengths: [5, 3]  (NB: Matrix in Row/Column order)
[9, 9, 10
 9, 9, 11
 9, 9, 12
 9, 9, 13
 9, 9, 14]


ycc(ycc<18)=
Array: Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 4, 8, 12, 16, 20
 1, 5, 9, 13, 17, 21
 2, 6, 10, 14, 18, 22
 3, 7, 11, 15, 19, 23]

Mask:  Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[1, 1, 1, 1, 1, 0
 1, 1, 1, 1, 1, 0
 1, 1, 1, 1, 0, 0
 1, 1, 1, 1, 0, 0]

(yc(yc<18))(yc>3)=
Array: Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 4, 8, 12, 16, 20
 1, 5, 9, 13, 17, 21
 2, 6, 10, 14, 18, 22
 3, 7, 11, 15, 19, 23]

Mask:  Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 1, 1, 1, 1, 0
 0, 1, 1, 1, 1, 0
 0, 1, 1, 1, 0, 0
 0, 1, 1, 1, 0, 0]

(yc(yc<18))(yc>3) = 8; yc=
Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 8, 8, 8, 8, 20
 1, 8, 8, 8, 8, 21
 2, 8, 8, 8, 18, 22
 3, 8, 8, 8, 19, 23]


yc((yc<18)(yc>3))=
Array: Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 4, 8, 12, 16, 20
 1, 5, 9, 13, 17, 21
 2, 6, 10, 14, 18, 22
 3, 7, 11, 15, 19, 23]

Mask:  Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 1, 1, 1, 1, 0
 0, 1, 1, 1, 1, 0
 0, 1, 1, 1, 0, 0
 0, 1, 1, 1, 0, 0]

yc((yc<18)(yc>3)) = 8; yc=
Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 8, 8, 8, 8, 20
 1, 8, 8, 8, 8, 21
 2, 8, 8, 8, 18, 22
 3, 8, 8, 8, 19, 23]


(yc(yc>7)) ((yc<18)(yc>3))=
Array: Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 4, 8, 12, 16, 20
 1, 5, 9, 13, 17, 21
 2, 6, 10, 14, 18, 22
 3, 7, 11, 15, 19, 23]

Mask:  Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 0, 1, 1, 1, 0
 0, 0, 1, 1, 1, 0
 0, 0, 1, 1, 0, 0
 0, 0, 1, 1, 0, 0]

(yc(yc>7)) ((yc<18)(yc>3)) = 8; yc=
Axis Lengths: [4, 6]  (NB: Matrix in Row/Column order)
[0, 4, 8, 8, 8, 20
 1, 5, 8, 8, 8, 21
 2, 6, 8, 8, 18, 22
 3, 7, 8, 8, 19, 23]


u15= 
Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][15, 15, 15, 15, 15]
[0, 1, 0][15, 15, 15, 15, 15]
[0, 2, 0][15, 15, 15, 15, 15]
[0, 0, 1][15, 15, 15, 15, 15]
[0, 1, 1][15, 15, 15, 15, 15]
[0, 2, 1][15, 15, 15, 15, 15]


u= 
Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][0, 1, 2, 3, 4]
[0, 1, 0][5, 6, 7, 8, 9]
[0, 2, 0][10, 11, 12, 13, 14]
[0, 0, 1][15, 16, 17, 18, 19]
[0, 1, 1][20, 21, 22, 23, 24]
[0, 2, 1][25, 26, 27, 28, 29]


u= u15(u<u15) = 
Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][15, 15, 15, 15, 15]
[0, 1, 0][15, 15, 15, 15, 15]
[0, 2, 0][15, 15, 15, 15, 15]
[0, 0, 1][15, 16, 17, 18, 19]
[0, 1, 1][20, 21, 22, 23, 24]
[0, 2, 1][25, 26, 27, 28, 29]


u(u<16)= 16 = 
Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][16, 16, 16, 16, 16]
[0, 1, 0][16, 16, 16, 16, 16]
[0, 2, 0][16, 16, 16, 16, 16]
[0, 0, 1][16, 16, 17, 18, 19]
[0, 1, 1][20, 21, 22, 23, 24]
[0, 2, 1][25, 26, 27, 28, 29]


ycc(ycc<18)=
Array: Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][4, 5, 6, 7]
[0, 2, 0][8, 9, 10, 11]
[0, 0, 1][12, 13, 14, 15]
[0, 1, 1][16, 17, 18, 19]
[0, 2, 1][20, 21, 22, 23]

Mask:  Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][1, 1, 1, 1]
[0, 1, 0][1, 1, 1, 1]
[0, 2, 0][1, 1, 1, 1]
[0, 0, 1][1, 1, 1, 1]
[0, 1, 1][1, 1, 0, 0]
[0, 2, 1][0, 0, 0, 0]

(yc(yc<18))(yc>3)=
Array: Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][4, 5, 6, 7]
[0, 2, 0][8, 9, 10, 11]
[0, 0, 1][12, 13, 14, 15]
[0, 1, 1][16, 17, 18, 19]
[0, 2, 1][20, 21, 22, 23]

Mask:  Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 0, 0, 0]
[0, 1, 0][1, 1, 1, 1]
[0, 2, 0][1, 1, 1, 1]
[0, 0, 1][1, 1, 1, 1]
[0, 1, 1][1, 1, 0, 0]
[0, 2, 1][0, 0, 0, 0]

(yc(yc<18))(yc>3) = 8; yc=
Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][8, 8, 8, 8]
[0, 2, 0][8, 8, 8, 8]
[0, 0, 1][8, 8, 8, 8]
[0, 1, 1][8, 8, 18, 19]
[0, 2, 1][20, 21, 22, 23]


yc((yc<18)(yc>3))=
Array: Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][4, 5, 6, 7]
[0, 2, 0][8, 9, 10, 11]
[0, 0, 1][12, 13, 14, 15]
[0, 1, 1][16, 17, 18, 19]
[0, 2, 1][20, 21, 22, 23]

Mask:  Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 0, 0, 0]
[0, 1, 0][1, 1, 1, 1]
[0, 2, 0][1, 1, 1, 1]
[0, 0, 1][1, 1, 1, 1]
[0, 1, 1][1, 1, 0, 0]
[0, 2, 1][0, 0, 0, 0]

yc((yc<18)(yc>3)) = 8; yc=
Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][8, 8, 8, 8]
[0, 2, 0][8, 8, 8, 8]
[0, 0, 1][8, 8, 8, 8]
[0, 1, 1][8, 8, 18, 19]
[0, 2, 1][20, 21, 22, 23]


(yc(yc>7)) ((yc<18)(yc>3))=
Array: Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][4, 5, 6, 7]
[0, 2, 0][8, 9, 10, 11]
[0, 0, 1][12, 13, 14, 15]
[0, 1, 1][16, 17, 18, 19]
[0, 2, 1][20, 21, 22, 23]

Mask:  Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 0, 0, 0]
[0, 1, 0][0, 0, 0, 0]
[0, 2, 0][1, 1, 1, 1]
[0, 0, 1][1, 1, 1, 1]
[0, 1, 1][1, 1, 0, 0]
[0, 2, 1][0, 0, 0, 0]

(yc(yc>7)) ((yc<18)(yc>3)) = 8; yc=
Ndim=3 Axis Lengths: [4, 3, 2] 
[0, 0, 0][0, 1, 2, 3]
[0, 1, 0][4, 5, 6, 7]
[0, 2, 0][8, 8, 8, 8]
[0, 0, 1][8, 8, 8, 8]
[0, 1, 1][8, 8, 18, 19]
[0, 2, 1][20, 21, 22, 23]


mcu=
Array: Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][0, 1, 2, 3, 4]
[0, 1, 0][5, 6, 7, 8, 9]
[0, 2, 0][10, 11, 12, 13, 14]
[0, 0, 1][15, 16, 17, 18, 19]
[0, 1, 1][20, 21, 22, 23, 24]
[0, 2, 1][25, 26, 27, 28, 29]

Mask:  Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][0, 0, 0, 0, 0]
[0, 1, 0][0, 0, 0, 0, 0]
[0, 2, 0][0, 1, 1, 1, 1]
[0, 0, 1][1, 1, 1, 1, 1]
[0, 1, 1][1, 0, 0, 0, 0]
[0, 2, 1][0, 0, 0, 0, 0]


Vector<Int> vec (mcu.getCompressedArray())=
[11, 12, 13, 14, 15, 16, 17, 18, 19, 20]

Matrix<Int> mat (mcu.getCompressedArray (IPosition (2,5,2)))=
Axis Lengths: [5, 2]  (NB: Matrix in Row/Column order)
[11, 16
 12, 17
 13, 18
 14, 19
 15, 20]


mcu.getCompressedArray (mat).  mat=
Axis Lengths: [5, 2]  (NB: Matrix in Row/Column order)
[11, 16
 12, 17
 13, 18
 14, 19
 15, 20]

mcu.setCompressedArray (-mat).  mcu=
Array: Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][0, 1, 2, 3, 4]
[0, 1, 0][5, 6, 7, 8, 9]
[0, 2, 0][10, -11, -12, -13, -14]
[0, 0, 1][-15, -16, -17, -18, -19]
[0, 1, 1][-20, 21, 22, 23, 24]
[0, 2, 1][25, 26, 27, 28, 29]

Mask:  Ndim=3 Axis Lengths: [5, 3, 2] 
[0, 0, 0][0, 0, 0, 0, 0]
[0, 1, 0][0, 0, 0, 0, 0]
[0, 2, 0][0, 1, 1, 1, 1]
[0, 0, 1][1, 1, 1, 1, 1]
[0, 1, 1][1, 0, 0, 0, 0]
[0, 2, 1][0, 0, 0, 0, 0]


mcu.isReadOnly()=
0

mcu.isReadOnly()=
0

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

ccu(lcu).isReadOnly()=
1

mcu(lcu).isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.isReadOnly()=
1

mcu.copy().isReadOnly()=
0

mcu.copy(False).isReadOnly()=
0

mcu.copy(True).isReadOnly()=
1

mcu.copy(False).isReadOnly()=
0

OK
OK
