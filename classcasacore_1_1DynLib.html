<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>casacore: casacore::DynLib Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1DynLib.html">DynLib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcasacore_1_1DynLib-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::DynLib Class Reference<div class="ingroups"><a class="el" href="group__OS__module.html">OS_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to handle loading of dynamic libraries.  
 <a href="classcasacore_1_1DynLib.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DynLib_8h_source.html">DynLib.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa182600e3e5eaaf3153bcf1ceb605efa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#aa182600e3e5eaaf3153bcf1ceb605efa">DynLib</a> (const std::string &amp;library, const std::string &amp;prefix=std::string(), const std::string &amp;funcName=std::string(), bool closeOnDestruction=<a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a>)</td></tr>
<tr class="memdesc:aa182600e3e5eaaf3153bcf1ceb605efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the dynamic library.  <a href="#aa182600e3e5eaaf3153bcf1ceb605efa">More...</a><br/></td></tr>
<tr class="separator:aa182600e3e5eaaf3153bcf1ceb605efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f05473afaf52f4344a38d043d02215"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a13f05473afaf52f4344a38d043d02215">DynLib</a> (const std::string &amp;library, const std::string &amp;prefix, const std::string &amp;version, const std::string &amp;funcName, bool closeOnDestruction=<a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a>)</td></tr>
<tr class="memdesc:a13f05473afaf52f4344a38d043d02215"><td class="mdescLeft">&#160;</td><td class="mdescRight">The same as above, but it is tried with and without the given version (in that order).  <a href="#a13f05473afaf52f4344a38d043d02215">More...</a><br/></td></tr>
<tr class="separator:a13f05473afaf52f4344a38d043d02215"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19fdb06472493b3da1099abc3c291ec4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a19fdb06472493b3da1099abc3c291ec4">DynLib</a> (const std::string &amp;library, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> closeOnDestruction, const std::string &amp;prefix=&quot;lib&quot;, const std::string &amp;suffix=&quot;.so&quot;)</td></tr>
<tr class="memdesc:a19fdb06472493b3da1099abc3c291ec4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load the dynamic library with the given name, prefix, and suffix.  <a href="#a19fdb06472493b3da1099abc3c291ec4">More...</a><br/></td></tr>
<tr class="separator:a19fdb06472493b3da1099abc3c291ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64794b466915eb6f71dcf6cb09d5694"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#ac64794b466915eb6f71dcf6cb09d5694">~DynLib</a> ()</td></tr>
<tr class="memdesc:ac64794b466915eb6f71dcf6cb09d5694"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the dynamic library if told so in the constructor.  <a href="#ac64794b466915eb6f71dcf6cb09d5694">More...</a><br/></td></tr>
<tr class="separator:ac64794b466915eb6f71dcf6cb09d5694"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3360ebc23dc4da6cf343e1a6b4f39e41"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a3360ebc23dc4da6cf343e1a6b4f39e41">getFunc</a> (const std::string &amp;funcName)</td></tr>
<tr class="memdesc:a3360ebc23dc4da6cf343e1a6b4f39e41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to a function in the dynamic library.  <a href="#a3360ebc23dc4da6cf343e1a6b4f39e41">More...</a><br/></td></tr>
<tr class="separator:a3360ebc23dc4da6cf343e1a6b4f39e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad38a9e8bdfa331c1316629dad7163dbd"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#ad38a9e8bdfa331c1316629dad7163dbd">getHandle</a> () const </td></tr>
<tr class="memdesc:ad38a9e8bdfa331c1316629dad7163dbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the dynamic library handle.  <a href="#ad38a9e8bdfa331c1316629dad7163dbd">More...</a><br/></td></tr>
<tr class="separator:ad38a9e8bdfa331c1316629dad7163dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa239985002491b315b99e2e360ad9783"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#aa239985002491b315b99e2e360ad9783">getError</a> () const </td></tr>
<tr class="memdesc:aa239985002491b315b99e2e360ad9783"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the possible error.  <a href="#aa239985002491b315b99e2e360ad9783">More...</a><br/></td></tr>
<tr class="separator:aa239985002491b315b99e2e360ad9783"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a9958e6d3446ab9f3697eccadbdb0bd2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a9958e6d3446ab9f3697eccadbdb0bd2f">attach</a> (const std::string &amp;name, const std::string &amp;prefix, const std::string &amp;version, const std::string &amp;funcName)</td></tr>
<tr class="memdesc:a9958e6d3446ab9f3697eccadbdb0bd2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to open the library with some prefixes, suffixes and versions and to execute the initialization function.  <a href="#a9958e6d3446ab9f3697eccadbdb0bd2f">More...</a><br/></td></tr>
<tr class="separator:a9958e6d3446ab9f3697eccadbdb0bd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b83b81fe58ddb26cd09b01487dc6d22"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a6b83b81fe58ddb26cd09b01487dc6d22">tryOpen</a> (const std::string &amp;name, const std::string &amp;libdir, const std::string &amp;prefix, const std::string &amp;version)</td></tr>
<tr class="memdesc:a6b83b81fe58ddb26cd09b01487dc6d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to open the library with some prefixes, suffixes and versions If successful, itsHandle is filled and the full library name is returned.  <a href="#a6b83b81fe58ddb26cd09b01487dc6d22">More...</a><br/></td></tr>
<tr class="separator:a6b83b81fe58ddb26cd09b01487dc6d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eef114cd3bcfeb7a4630f7d7f9da1aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a0eef114cd3bcfeb7a4630f7d7f9da1aa">open</a> (const std::string &amp;name)</td></tr>
<tr class="memdesc:a0eef114cd3bcfeb7a4630f7d7f9da1aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open (load) the dynamic library.  <a href="#a0eef114cd3bcfeb7a4630f7d7f9da1aa">More...</a><br/></td></tr>
<tr class="separator:a0eef114cd3bcfeb7a4630f7d7f9da1aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e82146d2d27bbf79cddf78bd290c4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a35e82146d2d27bbf79cddf78bd290c4c">close</a> ()</td></tr>
<tr class="memdesc:a35e82146d2d27bbf79cddf78bd290c4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close (unload) the dynamic library (if opened).  <a href="#a35e82146d2d27bbf79cddf78bd290c4c">More...</a><br/></td></tr>
<tr class="separator:a35e82146d2d27bbf79cddf78bd290c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b521de0bf2b5b2579b1acab429c2422"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a5b521de0bf2b5b2579b1acab429c2422">tryCasacorePath</a> (const std::string &amp;library, const std::string &amp;prefix, const std::string &amp;version)</td></tr>
<tr class="memdesc:a5b521de0bf2b5b2579b1acab429c2422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try if the library can be opened using CASACORE_LDPATH.  <a href="#a5b521de0bf2b5b2579b1acab429c2422">More...</a><br/></td></tr>
<tr class="separator:a5b521de0bf2b5b2579b1acab429c2422"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a91cb669b8fd9b8f779111512e9205384"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#a91cb669b8fd9b8f779111512e9205384">itsHandle</a></td></tr>
<tr class="separator:a91cb669b8fd9b8f779111512e9205384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee9f0df19d0df93dfda81fb2d4ae3b09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#aee9f0df19d0df93dfda81fb2d4ae3b09">itsDoClose</a></td></tr>
<tr class="separator:aee9f0df19d0df93dfda81fb2d4ae3b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1e787e65f0b148adf8353b839c94422"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1DynLib.html#af1e787e65f0b148adf8353b839c94422">itsError</a></td></tr>
<tr class="separator:af1e787e65f0b148adf8353b839c94422"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to handle loading of dynamic libraries. </p>
<p><a class="anchor" id="DynLib_summary"></a> </p>
<h3>Review Status</h3>
<dl>
<dt>Reviewed By:</dt>
<dd>UNKNOWN</dd>
<dt>Date Reviewed:</dt>
<dd>before2004/08/25</dd>
</dl>
<h3>Intended use:</h3>
<p>Public interface</p>
<h3>Prerequisite</h3>
<ul>
<li>
Basic knowledge of the dlopen function family </li>
</ul>
<h3>Synopsis</h3>
<p>This class makes it possible to load a dynamic library and execute an initialization function. Furthermore, one can get a pointer to any function in the dynamic library and close the library.</p>
<p>The search path of the shared library is as follows: </p>
<ul>
<li>
If the environment library CASACORE_LDPATH is defined, it is tried to find the library using that path. </li>
<li>
If not defined or not found, the system's (DY)LD_LIBRARY_PATH is used. </li>
<li>
The library looked for has the name 'prefix'libname'suffix'. <br/>
As prefix first "lib" is used, thereafter the given one (e.g., "libcasa_"). <br/>
As suffix first ".so" is used, thereafter ".dylib" (for OS-X). </li>
</ul>
<p>It is a wrapper around functions dlopen, dlsym, and dlclose. If dlopen and so are not supported on a platform, the class acts as if the shared library could not be found.</p>
<h3>Example</h3>
<p><a class="anchor" id="DynLib_example1"></a></p>
<div class="fragment"><div class="line"><a class="code" href="classcasacore_1_1DynLib.html#aa182600e3e5eaaf3153bcf1ceb605efa">DynLib</a> dl(<span class="stringliteral">&quot;derivedmscal&quot;</span>, <span class="stringliteral">&quot;libcasa_&quot;</span>, <span class="stringliteral">&quot;register_derivedmscal&quot;</span>);</div>
<div class="line"><a class="code" href="Assert_8h.html#a3630afed5d5376567ad23703d3676be3">AlwaysAssert</a> (dl.getHandle());</div>
</div><!-- fragment --><p> Using this loads the shared library <code>libcasa_derivedmscal.so</code> and executes the given register initialization function.</p>
<h3>Motivation</h3>
<p>dlopen is a standard UNIX system call, but some operating systems do not support it or have different function names (notably Windows). In this way use of dynamic libraries is centralized and can easily b tailored as needed. </p>

<p>Definition at line <a class="el" href="DynLib_8h_source.html#l00087">87</a> of file <a class="el" href="DynLib_8h_source.html">DynLib.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa182600e3e5eaaf3153bcf1ceb605efa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::DynLib::DynLib </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>library</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>std::string()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>funcName</em> = <code>std::string()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>closeOnDestruction</em> = <code><a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the dynamic library. </p>
<p>It is tried with prefixes <code>prefix</code> and "lib" (in that order) and with suffix ".so" or ".dylib" (for Apple). No library version number is used. If not loaded successfully, an exception is thrown. <br/>
If a non-empty funcName is given, that function is looked up and executed for initialization purposes. Its signature must be <code>void func()</code>. Note that the function name should not be mangled, thus declared <code>extern "<a class="el" href="namespacecasacore_1_1C.html">C</a>"</code>. An exception is thrown if the library is loaded successfully, but <code>funcName</code> could not be found. <br/>
If <code>closeOnDestruction=True</code>, the dynamic library is closed on destruction of the <a class="el" href="classcasacore_1_1DynLib.html" title="Class to handle loading of dynamic libraries. ">DynLib</a> object. </p>

</div>
</div>
<a class="anchor" id="a13f05473afaf52f4344a38d043d02215"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::DynLib::DynLib </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>library</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>funcName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>closeOnDestruction</em> = <code><a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The same as above, but it is tried with and without the given version (in that order). </p>

</div>
</div>
<a class="anchor" id="a19fdb06472493b3da1099abc3c291ec4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::DynLib::DynLib </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>library</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td>
          <td class="paramname"><em>closeOnDestruction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>&quot;lib&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>suffix</em> = <code>&quot;.so&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load the dynamic library with the given name, prefix, and suffix. </p>
<p>If not loaded successfully, the internal handle is NULL. <br/>
If <code>closeOnDestruction=True</code>, the dynamic library is closed when the <a class="el" href="classcasacore_1_1DynLib.html" title="Class to handle loading of dynamic libraries. ">DynLib</a> object is destructed. </p>

</div>
</div>
<a class="anchor" id="ac64794b466915eb6f71dcf6cb09d5694"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::DynLib::~DynLib </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close the dynamic library if told so in the constructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9958e6d3446ab9f3697eccadbdb0bd2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::DynLib::attach </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>funcName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to open the library with some prefixes, suffixes and versions and to execute the initialization function. </p>
<p>If successful, itsHandle is filled. Otherwise an exception is thrown. </p>

</div>
</div>
<a class="anchor" id="a35e82146d2d27bbf79cddf78bd290c4c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::DynLib::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close (unload) the dynamic library (if opened). </p>

</div>
</div>
<a class="anchor" id="aa239985002491b315b99e2e360ad9783"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::string&amp; casacore::DynLib::getError </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the possible error. </p>

<p>Definition at line <a class="el" href="DynLib_8h_source.html#l00157">157</a> of file <a class="el" href="DynLib_8h_source.html">DynLib.h</a>.</p>

<p>References <a class="el" href="DynLib_8h_source.html#l00192">itsError</a>.</p>

</div>
</div>
<a class="anchor" id="a3360ebc23dc4da6cf343e1a6b4f39e41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* casacore::DynLib::getFunc </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>funcName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to a function in the dynamic library. </p>
<p>The pointer has to be casted with a reinterpret_cast to a function pointer with the correct signature. When compiling with -pedantic the compiler will give a warning for such a cast, because on some systems (in particular some micro-controllers) a data pointer differs from a function pointer. However, that problem cannot be solved. For example: </p>
<div class="fragment"><div class="line"><span class="keyword">typedef</span> <a class="code" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> MyFunc(<a class="code" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>, <a class="code" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>);</div>
<div class="line"><span class="keywordtype">void</span>* initfunc = <a class="code" href="classcasacore_1_1DynLib.html#a3360ebc23dc4da6cf343e1a6b4f39e41">DynLib::getFunc</a> (mod, (<span class="stringliteral">&quot;register_&quot;</span>+name).c_str());</div>
<div class="line"><span class="keywordflow">if</span> (initFunc) {</div>
<div class="line">MyFunc* func = <span class="keyword">reinterpret_cast&lt;</span>MyFunc*<span class="keyword">&gt;</span>(initfunc);</div>
<div class="line"><a class="code" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> result = func(1,2);</div>
<div class="line">}</div>
</div><!-- fragment --><p> casts to a function returning Int and taking two Ints. <br/>
A null pointer is returned if the function could not be found. </p>

</div>
</div>
<a class="anchor" id="ad38a9e8bdfa331c1316629dad7163dbd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* casacore::DynLib::getHandle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the dynamic library handle. </p>

<p>Definition at line <a class="el" href="DynLib_8h_source.html#l00153">153</a> of file <a class="el" href="DynLib_8h_source.html">DynLib.h</a>.</p>

<p>References <a class="el" href="DynLib_8h_source.html#l00190">itsHandle</a>.</p>

</div>
</div>
<a class="anchor" id="a0eef114cd3bcfeb7a4630f7d7f9da1aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void casacore::DynLib::open </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open (load) the dynamic library. </p>

</div>
</div>
<a class="anchor" id="a5b521de0bf2b5b2579b1acab429c2422"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string casacore::DynLib::tryCasacorePath </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>library</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try if the library can be opened using CASACORE_LDPATH. </p>

</div>
</div>
<a class="anchor" id="a6b83b81fe58ddb26cd09b01487dc6d22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string casacore::DynLib::tryOpen </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>libdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to open the library with some prefixes, suffixes and versions If successful, itsHandle is filled and the full library name is returned. </p>
<p>Otherwise an empty name is returned. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="aee9f0df19d0df93dfda81fb2d4ae3b09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> casacore::DynLib::itsDoClose</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DynLib_8h_source.html#l00191">191</a> of file <a class="el" href="DynLib_8h_source.html">DynLib.h</a>.</p>

</div>
</div>
<a class="anchor" id="af1e787e65f0b148adf8353b839c94422"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string casacore::DynLib::itsError</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DynLib_8h_source.html#l00192">192</a> of file <a class="el" href="DynLib_8h_source.html">DynLib.h</a>.</p>

<p>Referenced by <a class="el" href="DynLib_8h_source.html#l00157">getError()</a>.</p>

</div>
</div>
<a class="anchor" id="a91cb669b8fd9b8f779111512e9205384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void* casacore::DynLib::itsHandle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="DynLib_8h_source.html#l00190">190</a> of file <a class="el" href="DynLib_8h_source.html">DynLib.h</a>.</p>

<p>Referenced by <a class="el" href="DynLib_8h_source.html#l00153">getHandle()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>casa/OS/<a class="el" href="DynLib_8h_source.html">DynLib.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
