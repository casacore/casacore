<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>casacore: casacore::LineCollapser&lt; T, U &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1LineCollapser.html">LineCollapser</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classcasacore_1_1LineCollapser-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::LineCollapser&lt; T, U &gt; Class Template Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="group__lattices.html">lattices package (libcasa_lattices)</a> &raquo; <a class="el" href="group__LatticeMath__module.html">LatticeMath_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base class for <a class="el" href="classcasacore_1_1LatticeApply.html" title="Optimally iterate through a Lattice and apply provided function object.">LatticeApply</a> function signatures.  
 <a href="classcasacore_1_1LineCollapser.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="LatticeApply_8h_source.html">LatticeApply.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a550211da45703301176501dcb63555a9"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1LineCollapser.html#a550211da45703301176501dcb63555a9">~LineCollapser</a> ()</td></tr>
<tr class="memdesc:a550211da45703301176501dcb63555a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a550211da45703301176501dcb63555a9">More...</a><br /></td></tr>
<tr class="separator:a550211da45703301176501dcb63555a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab963744d2203e433017b4b3802876fd7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1LineCollapser.html#ab963744d2203e433017b4b3802876fd7">init</a> (<a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a> nOutPixelsPerCollapse)=0</td></tr>
<tr class="memdesc:ab963744d2203e433017b4b3802876fd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">The init function for a derived class.  <a href="#ab963744d2203e433017b4b3802876fd7">More...</a><br /></td></tr>
<tr class="separator:ab963744d2203e433017b4b3802876fd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16e970ac8c93f42043fd66836af06208"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1LineCollapser.html#a16e970ac8c93f42043fd66836af06208">canHandleNullMask</a> () const</td></tr>
<tr class="memdesc:a16e970ac8c93f42043fd66836af06208"><td class="mdescLeft">&#160;</td><td class="mdescRight">Can the process function in the derived class handle a null mask? If not, <a class="el" href="classcasacore_1_1LatticeApply.html" title="Optimally iterate through a Lattice and apply provided function object.">LatticeApply</a> ensures that it'll always pass a filled mask vector, even if the lattice does not have a mask (in that case that mask contains all True values).  <a href="#a16e970ac8c93f42043fd66836af06208">More...</a><br /></td></tr>
<tr class="separator:a16e970ac8c93f42043fd66836af06208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69fcc5e12f7c5343b9960f3cb8d37617"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1LineCollapser.html#a69fcc5e12f7c5343b9960f3cb8d37617">process</a> (U &amp;result, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &amp;resultMask, const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; T &gt; &amp;line, const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &gt; &amp;<a class="el" href="namespacecasacore.html#a7546375a4910a76c4e40307b24fee91b">mask</a>, const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;pos)=0</td></tr>
<tr class="memdesc:a69fcc5e12f7c5343b9960f3cb8d37617"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collapse the given line and return one value from that operation.  <a href="#a69fcc5e12f7c5343b9960f3cb8d37617">More...</a><br /></td></tr>
<tr class="separator:a69fcc5e12f7c5343b9960f3cb8d37617"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2c8492170e9e315f83d4e4d610bbe87"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1LineCollapser.html#ad2c8492170e9e315f83d4e4d610bbe87">multiProcess</a> (<a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; U &gt; &amp;result, <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &gt; &amp;resultMask, const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; T &gt; &amp;line, const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &gt; &amp;<a class="el" href="namespacecasacore.html#a7546375a4910a76c4e40307b24fee91b">mask</a>, const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;pos)=0</td></tr>
<tr class="memdesc:ad2c8492170e9e315f83d4e4d610bbe87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Collapse the given line and return a line of values from that operation.  <a href="#ad2c8492170e9e315f83d4e4d610bbe87">More...</a><br /></td></tr>
<tr class="separator:ad2c8492170e9e315f83d4e4d610bbe87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class T, class U = T&gt;<br />
class casacore::LineCollapser&lt; T, U &gt;</h3>

<p>Abstract base class for <a class="el" href="classcasacore_1_1LatticeApply.html" title="Optimally iterate through a Lattice and apply provided function object.">LatticeApply</a> function signatures. </p>
<p><a class="anchor" id="LineCollapser_summary"></a> </p><h3>Intended use:</h3>
<p>Public interface</p>
<h3>Review Status</h3>
<dl>
<dt>Date Reviewed:</dt>
<dd>yyyy/mm/dd</dd>
</dl>
<h3>Prerequisite</h3>
<ul>
<li>
<a class="el" href="classcasacore_1_1LatticeApply.html">LatticeApply</a> </li>
</ul>
<h3>Etymology</h3>
<h3>Synopsis</h3>
<p>This is an abstract base class for the collapsing of lines to be used in function <code>lineApply</code> or <code>lineMultiApply</code> in class <a class="el" href="classcasacore_1_1LatticeApply.html">LatticeApply</a>. It is meant for cases where the entire line is needed (e.g. moment calculation). If that is not needed (e.g. to calculate maximum), it is better to use function <code><a class="el" href="classcasacore_1_1LatticeApply.html#a02c70d13ae6efcd38c67b4e6c6b6b6d2" title="This function iterates tile by tile through an input lattice and applies a user supplied function obj...">LatticeApply::tiledApply</a></code> with class <a class="el" href="classcasacore_1_1TiledCollapser.html">TiledCollapser</a>. </p>
<p>The user has to derive a concrete class from this base class and implement the (pure) virtual functions. <br />
 The main function is <code>process</code>, which needs to do the calculation. <br />
 Other functions make it possible to perform an initial check. </p>
<p>The class is Doubly templated. Ths first template type is for the data type you are processing. The second type is for what type you want the results of the processing assigned to. For example, if you are computing sums of squares for statistical purposes, you might use higher precision (FLoat-&gt;Double) for this. No check is made that the template types are self-consistent.</p>
<h3>Example</h3>
<p><a class="anchor" id="LineCollapser_example1"></a></p><div class="fragment"></div><!-- fragment --><h3>Motivation</h3>
<h3>To Do</h3>
<ul>
<li>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="LatticeApply_8h_source.html#l00040">40</a> of file <a class="el" href="LatticeApply_8h_source.html">LatticeApply.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a550211da45703301176501dcb63555a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a550211da45703301176501dcb63555a9">&#9670;&nbsp;</a></span>~LineCollapser()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, class U = T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classcasacore_1_1LineCollapser.html">casacore::LineCollapser</a>&lt; T, U &gt;::~<a class="el" href="classcasacore_1_1LineCollapser.html">LineCollapser</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a16e970ac8c93f42043fd66836af06208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16e970ac8c93f42043fd66836af06208">&#9670;&nbsp;</a></span>canHandleNullMask()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, class U = T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> <a class="el" href="classcasacore_1_1LineCollapser.html">casacore::LineCollapser</a>&lt; T, U &gt;::canHandleNullMask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Can the process function in the derived class handle a null mask? If not, <a class="el" href="classcasacore_1_1LatticeApply.html" title="Optimally iterate through a Lattice and apply provided function object.">LatticeApply</a> ensures that it'll always pass a filled mask vector, even if the lattice does not have a mask (in that case that mask contains all True values). </p>
<p><br />
The default implementation returns False. <br />
The function is there to make optimization possible when no masks are involved. On the other side, it allows the casual user to ignore optimization. </p>

</div>
</div>
<a id="ab963744d2203e433017b4b3802876fd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab963744d2203e433017b4b3802876fd7">&#9670;&nbsp;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, class U = T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classcasacore_1_1LineCollapser.html">casacore::LineCollapser</a>&lt; T, U &gt;::init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a>&#160;</td>
          <td class="paramname"><em>nOutPixelsPerCollapse</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The init function for a derived class. </p>
<p>It can be used to check if <code>nOutPixelsPerCollapse</code> corresponds with the number of pixels produced per collapsed line. </p>

</div>
</div>
<a id="ad2c8492170e9e315f83d4e4d610bbe87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2c8492170e9e315f83d4e4d610bbe87">&#9670;&nbsp;</a></span>multiProcess()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, class U = T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classcasacore_1_1LineCollapser.html">casacore::LineCollapser</a>&lt; T, U &gt;::multiProcess </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; U &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>resultMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collapse the given line and return a line of values from that operation. </p>
<p>The position in the <a class="el" href="classcasacore_1_1Lattice.html" title="A templated, abstract base class for array-like objects.">Lattice</a> at the start of the line is input as well. <br />
When function <code>canHandleNullMask</code> returned True, it is possible that <code>mask</code> is an empty vector indicating that the input has no mask, thus all values are valid. If not empty, the mask has the same length as the line. </p>

</div>
</div>
<a id="a69fcc5e12f7c5343b9960f3cb8d37617"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69fcc5e12f7c5343b9960f3cb8d37617">&#9670;&nbsp;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T, class U = T&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="classcasacore_1_1LineCollapser.html">casacore::LineCollapser</a>&lt; T, U &gt;::process </td>
          <td>(</td>
          <td class="paramtype">U &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &amp;&#160;</td>
          <td class="paramname"><em>resultMask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; T &gt; &amp;&#160;</td>
          <td class="paramname"><em>line</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1Vector.html">Vector</a>&lt; <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>pos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Collapse the given line and return one value from that operation. </p>
<p>The position in the <a class="el" href="classcasacore_1_1Lattice.html" title="A templated, abstract base class for array-like objects.">Lattice</a> at the start of the line is input as well. <br />
When function <code>canHandleNullMask</code> returned True, it is possible that <code>mask</code> is an empty vector indicating that the input has no mask, thus all values are valid. If not empty, the mask has the same length as the line. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lattices/LatticeMath/<a class="el" href="LatticeApply_8h_source.html">LatticeApply.h</a></li>
<li>lattices/LatticeMath/<a class="el" href="LineCollapser_8h_source.html">LineCollapser.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
