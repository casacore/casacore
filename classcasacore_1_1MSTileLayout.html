<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>casacore: casacore::MSTileLayout Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1MSTileLayout.html">MSTileLayout</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classcasacore_1_1MSTileLayout-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::MSTileLayout Class Reference<div class="ingroups"><a class="el" href="group__MeasurementSets__module.html">MeasurementSets_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>An helper class for deciding on tile shapes in MeasurementSets.  
 <a href="classcasacore_1_1MSTileLayout.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MSTileLayout_8h_source.html">MSTileLayout.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a9260e6feefe0b4ab4007ab98da66a7fa"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7fa">ObsType</a> { <br/>
&#160;&#160;<a class="el" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7faa281da609b4d98ee5e274c82f0813dc5b">Standard</a>, 
<br/>
&#160;&#160;<a class="el" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7faada86e0d54a91e1defe6e7ce98228057d">FastMosaic</a>
<br/>
 }</td></tr>
<tr class="separator:a9260e6feefe0b4ab4007ab98da66a7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a1825df7d65f97a1139e6585385235f6c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MSTileLayout.html#a1825df7d65f97a1139e6585385235f6c">tileShape</a> (const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;dataShape, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> observationType=<a class="el" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7faa281da609b4d98ee5e274c82f0813dc5b">Standard</a>, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> nIfr=0, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> nInt=1)</td></tr>
<tr class="memdesc:a1825df7d65f97a1139e6585385235f6c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Suggest tile shape based on the data shape, the observing mode, the number of interferometers and the number of integrations per pointing.  <a href="#a1825df7d65f97a1139e6585385235f6c">More...</a><br/></td></tr>
<tr class="separator:a1825df7d65f97a1139e6585385235f6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1601a016b109dc42718b7b2550ae4c22"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MSTileLayout.html#a1601a016b109dc42718b7b2550ae4c22">tileShape</a> (const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;dataShape, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> observationType, const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;<a class="el" href="namespacecasacore.html#a72e8481a74e808b5facfb20a2352d075">array</a>)</td></tr>
<tr class="memdesc:a1601a016b109dc42718b7b2550ae4c22"><td class="mdescLeft">&#160;</td><td class="mdescRight">same as above, but pick standard nIfr (number of interferometers) for named array and default nInt.  <a href="#a1601a016b109dc42718b7b2550ae4c22">More...</a><br/></td></tr>
<tr class="separator:a1601a016b109dc42718b7b2550ae4c22"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An helper class for deciding on tile shapes in MeasurementSets. </p>
<p><a class="anchor" id="MSTileLayout_summary"></a> </p>
<h3>Intended use:</h3>
<p>Public interface</p>
<h3>Prerequisite</h3>
<ul>
<li>
<a class="el" href="classcasacore_1_1MeasurementSet.html">MeasurementSet</a> </li>
<li>
<a class="el" href="classcasacore_1_1TiledStMan.html">TiledStMan</a> </li>
</ul>
<h3>Etymology</h3>
<p><a class="el" href="classcasacore_1_1MSTileLayout.html" title="An helper class for deciding on tile shapes in MeasurementSets. ">MSTileLayout</a> stands for the <a class="el" href="classcasacore_1_1MeasurementSet.html" title="A Table intended to hold astronomical data (a set of Measurements). ">MeasurementSet</a> tile layout chooser</p>
<h3>Synopsis</h3>
<p><a class="el" href="classcasacore_1_1MSTileLayout.html" title="An helper class for deciding on tile shapes in MeasurementSets. ">MSTileLayout</a> is a class to determine an appropriate tile shape choice for the <a class="el" href="classcasacore_1_1MeasurementSet.html" title="A Table intended to hold astronomical data (a set of Measurements). ">MeasurementSet</a> DATA columns, based on the shape of the DATA, the observing mode and the number of interferometers</p>
<h3>Example</h3>
<p><a class="anchor" id="MSTileLayout_example1"></a></p>
<div class="fragment"><div class="line"><span class="comment">// The following code returns the tile shape given the DATA shape,</span></div>
<div class="line"><span class="comment">// the observing type and the array name.</span></div>
<div class="line">IPosition dataShape(2,4,1024); <span class="comment">// 4 polarizations, 1024 channels</span></div>
<div class="line">IPosition tileShape = <a class="code" href="classcasacore_1_1MSTileLayout.html#a1825df7d65f97a1139e6585385235f6c">MSTileLayout::tileShape</a>(dataShape,</div>
<div class="line"><a class="code" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7faada86e0d54a91e1defe6e7ce98228057d">MSTileLayout::FastMosaic</a>,</div>
<div class="line"><span class="stringliteral">&quot;ATCA&quot;</span>);</div>
<div class="line">cout &lt;&lt; <span class="stringliteral">&quot;tileShape = &quot;</span>&lt;&lt; tileShape &lt;&lt; endl;</div>
<div class="line"><span class="comment">// Output is: </span></div>
<div class="line">tileShape = (4,11,15)</div>
</div><!-- fragment --><h3>Motivation</h3>
<p>This class is intended to replace bits of code scattered throughout various fillers and collect all tiling decisions in one place. </p>

<p>Definition at line <a class="el" href="MSTileLayout_8h_source.html#l00082">82</a> of file <a class="el" href="MSTileLayout_8h_source.html">MSTileLayout.h</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a9260e6feefe0b4ab4007ab98da66a7fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7fa">casacore::MSTileLayout::ObsType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a9260e6feefe0b4ab4007ab98da66a7faa281da609b4d98ee5e274c82f0813dc5b"></a>Standard</em>&nbsp;</td><td class="fielddoc">
<p>Standard, optimizes i/o by using large tiles (128 kB) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a9260e6feefe0b4ab4007ab98da66a7faada86e0d54a91e1defe6e7ce98228057d"></a>FastMosaic</em>&nbsp;</td><td class="fielddoc">
<p>Fast Mosaic, specify this if you have many (&gt;30) fields and you spend only a few integrations per pointing before moving on. </p>
<p>Avoids useless i/o caching by using small tiles </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="MSTileLayout_8h_source.html#l00085">85</a> of file <a class="el" href="MSTileLayout_8h_source.html">MSTileLayout.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a1825df7d65f97a1139e6585385235f6c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> casacore::MSTileLayout::tileShape </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>dataShape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>observationType</em> = <code><a class="el" href="classcasacore_1_1MSTileLayout.html#a9260e6feefe0b4ab4007ab98da66a7faa281da609b4d98ee5e274c82f0813dc5b">Standard</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>nIfr</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>nInt</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Suggest tile shape based on the data shape, the observing mode, the number of interferometers and the number of integrations per pointing. </p>
<p>First argument should be a 2-dimensional <a class="el" href="classcasacore_1_1IPosition.html" title="A Vector of integers, for indexing into Array&lt;T&gt; objects. ">IPosition</a> with the data matrix shape. The second argument is one of the enums above specifying the type of observation. The third argument is an estimate of the number of interferometers present throughout most of the data. The last argument is an estimate of the number of integrations per pointing.</p>
<p>The last three arguments only need to be specified if the observing mode is non Standard. Basically the choice is between large tiles for efficient I/O and small tiles when a common access pattern (field_id order) would result in very inefficient caching. The latter occurs for large tiles if the field_id changes rapidly AND there are many fields AND the data matrix is small (e.g., continuum mosaic of a large area with only one or two integrations per pointing). Note that accessing fast mosaic data with large tiles in field_id order can be 10-100 times slower than sequential access. </p>

</div>
</div>
<a class="anchor" id="a1601a016b109dc42718b7b2550ae4c22"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> casacore::MSTileLayout::tileShape </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1IPosition.html">IPosition</a> &amp;&#160;</td>
          <td class="paramname"><em>dataShape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>observationType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>same as above, but pick standard nIfr (number of interferometers) for named array and default nInt. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>ms/MeasurementSets/<a class="el" href="MSTileLayout_8h_source.html">MSTileLayout.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
