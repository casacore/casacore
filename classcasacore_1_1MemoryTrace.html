<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>casacore: casacore::MemoryTrace Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1MemoryTrace.html">MemoryTrace</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classcasacore_1_1MemoryTrace-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::MemoryTrace Class Reference<div class="ingroups"><a class="el" href="group__OS__module.html">OS_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>memory usage tracing mechanism  
 <a href="classcasacore_1_1MemoryTrace.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:afca19aee683066f73da9c41d12a58d7c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#afca19aee683066f73da9c41d12a58d7c">start</a> ()</td></tr>
<tr class="memdesc:afca19aee683066f73da9c41d12a58d7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the tracing.  <a href="#afca19aee683066f73da9c41d12a58d7c">More...</a><br/></td></tr>
<tr class="separator:afca19aee683066f73da9c41d12a58d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff9e62bd277eb50e5a345aac3c56657a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#aff9e62bd277eb50e5a345aac3c56657a">stop</a> ()</td></tr>
<tr class="memdesc:aff9e62bd277eb50e5a345aac3c56657a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop the tracing.  <a href="#aff9e62bd277eb50e5a345aac3c56657a">More...</a><br/></td></tr>
<tr class="separator:aff9e62bd277eb50e5a345aac3c56657a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30576684c0321e9eefced0382f3ad206"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a30576684c0321e9eefced0382f3ad206">open</a> ()</td></tr>
<tr class="memdesc:a30576684c0321e9eefced0382f3ad206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open the trace file if not open yet.  <a href="#a30576684c0321e9eefced0382f3ad206">More...</a><br/></td></tr>
<tr class="separator:a30576684c0321e9eefced0382f3ad206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af111534a0274a2a80c869601e46a1a84"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#af111534a0274a2a80c869601e46a1a84">close</a> ()</td></tr>
<tr class="memdesc:af111534a0274a2a80c869601e46a1a84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close the tracing output file.  <a href="#af111534a0274a2a80c869601e46a1a84">More...</a><br/></td></tr>
<tr class="separator:af111534a0274a2a80c869601e46a1a84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2044e908c1a5e9e9975453db97aec2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a3f2044e908c1a5e9e9975453db97aec2">isOn</a> ()</td></tr>
<tr class="memdesc:a3f2044e908c1a5e9e9975453db97aec2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is tracing on?  <a href="#a3f2044e908c1a5e9e9975453db97aec2">More...</a><br/></td></tr>
<tr class="separator:a3f2044e908c1a5e9e9975453db97aec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a9b47d31b4baad1368fdc116dba7c6d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a9a9b47d31b4baad1368fdc116dba7c6d">isOpen</a> ()</td></tr>
<tr class="memdesc:a9a9b47d31b4baad1368fdc116dba7c6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the tracing file opened?  <a href="#a9a9b47d31b4baad1368fdc116dba7c6d">More...</a><br/></td></tr>
<tr class="separator:a9a9b47d31b4baad1368fdc116dba7c6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac642f12d24bc0637f468d8fa40b55413"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#ac642f12d24bc0637f468d8fa40b55413">writeBlock</a> (const char *msg, const std::string &amp;name)</td></tr>
<tr class="memdesc:ac642f12d24bc0637f468d8fa40b55413"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block line in the output file.  <a href="#ac642f12d24bc0637f468d8fa40b55413">More...</a><br/></td></tr>
<tr class="separator:ac642f12d24bc0637f468d8fa40b55413"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acffb440e39476a7d32a8f36e5282fe30"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#acffb440e39476a7d32a8f36e5282fe30">writeBlock</a> (const char *msg, const char *name)</td></tr>
<tr class="separator:acffb440e39476a7d32a8f36e5282fe30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa1abd7dcdbdc240f9a7a454b2051d72"><td class="memItemLeft" align="right" valign="top">static std::ofstream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#afa1abd7dcdbdc240f9a7a454b2051d72">writeAlloc</a> (const void *ptr, size_t)</td></tr>
<tr class="memdesc:afa1abd7dcdbdc240f9a7a454b2051d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an alloc or free message.  <a href="#afa1abd7dcdbdc240f9a7a454b2051d72">More...</a><br/></td></tr>
<tr class="separator:afa1abd7dcdbdc240f9a7a454b2051d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb18dea294e2ee736bfa126b5107e638"><td class="memItemLeft" align="right" valign="top">static std::ofstream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#abb18dea294e2ee736bfa126b5107e638">writeFree</a> (const void *ptr)</td></tr>
<tr class="separator:abb18dea294e2ee736bfa126b5107e638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1d62d19ce1a15fbac9df88bf88dcb2"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a7e1d62d19ce1a15fbac9df88bf88dcb2">mallocHook</a> (size_t, const void *caller)</td></tr>
<tr class="memdesc:a7e1d62d19ce1a15fbac9df88bf88dcb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">The hooks for malloc and free writing the trace messages.  <a href="#a7e1d62d19ce1a15fbac9df88bf88dcb2">More...</a><br/></td></tr>
<tr class="separator:a7e1d62d19ce1a15fbac9df88bf88dcb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8d9beb914a14dd984c6e850a3e60293"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#af8d9beb914a14dd984c6e850a3e60293">freeHook</a> (void *, const void *caller)</td></tr>
<tr class="separator:af8d9beb914a14dd984c6e850a3e60293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c105b9c671c30ee7a755972ad710f7d"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a4c105b9c671c30ee7a755972ad710f7d">makeString</a> (const char *)</td></tr>
<tr class="memdesc:a4c105b9c671c30ee7a755972ad710f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Make a string from a char* without tracing a possible malloc in the string constructor.  <a href="#a4c105b9c671c30ee7a755972ad710f7d">More...</a><br/></td></tr>
<tr class="separator:a4c105b9c671c30ee7a755972ad710f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a4853f649d708b99664cec399bff6847a"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a4853f649d708b99664cec399bff6847a">theirDoTrace</a></td></tr>
<tr class="separator:a4853f649d708b99664cec399bff6847a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760b2fe60c9c13440201bb3ab845a9f1"><td class="memItemLeft" align="right" valign="top">static std::ofstream&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a760b2fe60c9c13440201bb3ab845a9f1">theirFile</a></td></tr>
<tr class="separator:a760b2fe60c9c13440201bb3ab845a9f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accc5830be5e6690da24237de2d9dd2e3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcasacore_1_1Timer.html">Timer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#accc5830be5e6690da24237de2d9dd2e3">theirTimer</a></td></tr>
<tr class="separator:accc5830be5e6690da24237de2d9dd2e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64196546d2df3cd67e17a6047e06e512"><td class="memItemLeft" align="right" valign="top">static void *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#a64196546d2df3cd67e17a6047e06e512">theirOldMallocHook</a> )(size_t, const void *)</td></tr>
<tr class="separator:a64196546d2df3cd67e17a6047e06e512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5674c2d372de109ddd9c77f184c1cd3"><td class="memItemLeft" align="right" valign="top">static void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MemoryTrace.html#aa5674c2d372de109ddd9c77f184c1cd3">theirOldFreeHook</a> )(void *, const void *)</td></tr>
<tr class="separator:aa5674c2d372de109ddd9c77f184c1cd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>memory usage tracing mechanism </p>
<p><a class="anchor" id="MemoryTrace_summary"></a> </p>
<h3>Intended use:</h3>
<p>Public interface </p>
<h3>Review Status</h3>
<dl>
<dt>Reviewed By:</dt>
<dd>UNKNOWN</dd>
<dt>Date Reviewed:</dt>
<dd>before2004/08/25</dd>
</dl>
<h3>Synopsis</h3>
<p>The <a class="el" href="classcasacore_1_1MemoryTrace.html" title="memory usage tracing mechanism ">MemoryTrace</a> class provides some means to trace the memory usage of a program. It logs malloc and free messages in a file which can be examined by the python script memorytrace.py. <br/>
The tracing is done using hooks for malloc and free as explained in 'man malloc_hook'.</p>
<p>The tracing can be started and stopped at any time. On the first start the trace file is created. The file can be closed at any time, usually at the end of a program. Another start will recreate the file.</p>
<p>The trace file consists of 3 types of lines: </p>
<ul>
<li>
An allocation line like "a &lt;address&gt; &lt;caller&gt; &lt;size&gt;" </li>
<li>
A deallocation line like "f &lt;address&gt; &lt;caller&gt;" </li>
<li>
A line like "begin/end &lt;name&gt;" telling the script the beginning or end of a code block. It makes it possible to see how memory usage develops. Such lines can be inserted using the class <a class="el" href="classcasacore_1_1MemoryTraceBlock.html" title="Class to write begin and end block message. ">MemoryTraceBlock</a>. </li>
</ul>
<p>All lines start with the number of milliseconds since the start of the program. </p>
<p>The script memorytrace.py can be used to interpret the log file and to show the memory usage. </p>

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00070">70</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af111534a0274a2a80c869601e46a1a84"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close the tracing output file. </p>

</div>
</div>
<a class="anchor" id="af8d9beb914a14dd984c6e850a3e60293"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::freeHook </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a3f2044e908c1a5e9e9975453db97aec2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> casacore::MemoryTrace::isOn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is tracing on? </p>

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00089">89</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

<p>References <a class="el" href="MemoryTrace_8h_source.html#l00113">theirDoTrace</a>.</p>

</div>
</div>
<a class="anchor" id="a9a9b47d31b4baad1368fdc116dba7c6d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> casacore::MemoryTrace::isOpen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Is the tracing file opened? </p>

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00093">93</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

<p>References <a class="el" href="MemoryTrace_8h_source.html#l00114">theirFile</a>.</p>

</div>
</div>
<a class="anchor" id="a4c105b9c671c30ee7a755972ad710f7d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::string casacore::MemoryTrace::makeString </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Make a string from a char* without tracing a possible malloc in the string constructor. </p>

</div>
</div>
<a class="anchor" id="a7e1d62d19ce1a15fbac9df88bf88dcb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* casacore::MemoryTrace::mallocHook </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>caller</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The hooks for malloc and free writing the trace messages. </p>

</div>
</div>
<a class="anchor" id="a30576684c0321e9eefced0382f3ad206"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::open </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Open the trace file if not open yet. </p>

</div>
</div>
<a class="anchor" id="afca19aee683066f73da9c41d12a58d7c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Start the tracing. </p>
<p>Nothing is done if already started. On the first time, it opens the trace file. The name of the trace file can be given in the env.var. CASACORE_MEMORYTRACE. If undefined, the name casacore_memorytrace.log will be used. </p>

</div>
</div>
<a class="anchor" id="aff9e62bd277eb50e5a345aac3c56657a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop the tracing. </p>

</div>
</div>
<a class="anchor" id="afa1abd7dcdbdc240f9a7a454b2051d72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::ofstream&amp; casacore::MemoryTrace::writeAlloc </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write an alloc or free message. </p>

</div>
</div>
<a class="anchor" id="ac642f12d24bc0637f468d8fa40b55413"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::writeBlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a block line in the output file. </p>

</div>
</div>
<a class="anchor" id="acffb440e39476a7d32a8f36e5282fe30"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void casacore::MemoryTrace::writeBlock </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abb18dea294e2ee736bfa126b5107e638"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::ofstream&amp; casacore::MemoryTrace::writeFree </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a4853f649d708b99664cec399bff6847a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> casacore::MemoryTrace::theirDoTrace</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00113">113</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

<p>Referenced by <a class="el" href="MemoryTrace_8h_source.html#l00089">isOn()</a>.</p>

</div>
</div>
<a class="anchor" id="a760b2fe60c9c13440201bb3ab845a9f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::ofstream casacore::MemoryTrace::theirFile</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00114">114</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

<p>Referenced by <a class="el" href="MemoryTrace_8h_source.html#l00093">isOpen()</a>.</p>

</div>
</div>
<a class="anchor" id="aa5674c2d372de109ddd9c77f184c1cd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void(* casacore::MemoryTrace::theirOldFreeHook)(void *, const void *)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00118">118</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

</div>
</div>
<a class="anchor" id="a64196546d2df3cd67e17a6047e06e512"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void*(* casacore::MemoryTrace::theirOldMallocHook)(size_t, const void *)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00117">117</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

</div>
</div>
<a class="anchor" id="accc5830be5e6690da24237de2d9dd2e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcasacore_1_1Timer.html">Timer</a> casacore::MemoryTrace::theirTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MemoryTrace_8h_source.html#l00115">115</a> of file <a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>casa/OS/<a class="el" href="MemoryTrace_8h_source.html">MemoryTrace.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
