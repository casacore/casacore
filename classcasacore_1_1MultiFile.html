<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>casacore: casacore::MultiFile Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecasacore.html">casacore</a></li><li class="navelem"><a class="el" href="classcasacore_1_1MultiFile.html">MultiFile</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classcasacore_1_1MultiFile-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">casacore::MultiFile Class Reference<div class="ingroups"><a class="el" href="group__IO__module.html">IO_module</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to combine multiple files in a single one.  
 <a href="classcasacore_1_1MultiFile.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="MultiFile_8h_source.html">MultiFile.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for casacore::MultiFile:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcasacore_1_1MultiFile.png" usemap="#casacore::MultiFile_map" alt=""/>
  <map id="casacore::MultiFile_map" name="casacore::MultiFile_map">
<area href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one. " alt="casacore::MultiFileBase" shape="rect" coords="0,0,147,24"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a70eddf9e6c3676f6edaaa93ac837ce84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a70eddf9e6c3676f6edaaa93ac837ce84">MultiFile</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name, <a class="el" href="classcasacore_1_1ByteIO.html#afa01b2ceb18a6e7db1ef40ebcd7158df">ByteIO::OpenOption</a>, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#ad013052a5fbc7af597fdc17b44a18786">blockSize</a>=0)</td></tr>
<tr class="memdesc:a70eddf9e6c3676f6edaaa93ac837ce84"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open or create a <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a> with the given name.  <a href="#a70eddf9e6c3676f6edaaa93ac837ce84">More...</a><br/></td></tr>
<tr class="separator:a70eddf9e6c3676f6edaaa93ac837ce84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5e0899d023182e1c2e19f79bb2306cb"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#aa5e0899d023182e1c2e19f79bb2306cb">~MultiFile</a> ()</td></tr>
<tr class="memdesc:aa5e0899d023182e1c2e19f79bb2306cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor flushes and closes the file.  <a href="#aa5e0899d023182e1c2e19f79bb2306cb">More...</a><br/></td></tr>
<tr class="separator:aa5e0899d023182e1c2e19f79bb2306cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e4f08b0109161215b73269ca378c1fd"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a0e4f08b0109161215b73269ca378c1fd">reopenRW</a> ()</td></tr>
<tr class="memdesc:a0e4f08b0109161215b73269ca378c1fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reopen the underlying file for read/write access.  <a href="#a0e4f08b0109161215b73269ca378c1fd">More...</a><br/></td></tr>
<tr class="separator:a0e4f08b0109161215b73269ca378c1fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3e6d9077589f96e975057fc2f394fe"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a3d3e6d9077589f96e975057fc2f394fe">fsync</a> ()</td></tr>
<tr class="memdesc:a3d3e6d9077589f96e975057fc2f394fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fsync the file (i.e., force the data to be physically written).  <a href="#a3d3e6d9077589f96e975057fc2f394fe">More...</a><br/></td></tr>
<tr class="separator:a3d3e6d9077589f96e975057fc2f394fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcasacore_1_1MultiFileBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcasacore_1_1MultiFileBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcasacore_1_1MultiFileBase.html">casacore::MultiFileBase</a></td></tr>
<tr class="memitem:a86d40a94410d69e52e4252ce14b9a976 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a86d40a94410d69e52e4252ce14b9a976">MultiFileBase</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name, <a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#ad013052a5fbc7af597fdc17b44a18786">blockSize</a>=0)</td></tr>
<tr class="memdesc:a86d40a94410d69e52e4252ce14b9a976 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open or create a <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one. ">MultiFileBase</a> with the given name.  <a href="#a86d40a94410d69e52e4252ce14b9a976">More...</a><br/></td></tr>
<tr class="separator:a86d40a94410d69e52e4252ce14b9a976 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a1e16ccff9ae04d91ee11f75cc8c42 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#aa6a1e16ccff9ae04d91ee11f75cc8c42">~MultiFileBase</a> ()</td></tr>
<tr class="memdesc:aa6a1e16ccff9ae04d91ee11f75cc8c42 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">The destructor flushes and closes the file.  <a href="#aa6a1e16ccff9ae04d91ee11f75cc8c42">More...</a><br/></td></tr>
<tr class="separator:aa6a1e16ccff9ae04d91ee11f75cc8c42 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc7af629b47c2b77a375a726c71c6e8 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#abdc7af629b47c2b77a375a726c71c6e8">fileId</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name, <a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> throwExcp=<a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a>) const </td></tr>
<tr class="memdesc:abdc7af629b47c2b77a375a726c71c6e8 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the file id of a file in the <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one. ">MultiFileBase</a> object.  <a href="#abdc7af629b47c2b77a375a726c71c6e8">More...</a><br/></td></tr>
<tr class="separator:abdc7af629b47c2b77a375a726c71c6e8 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7018ae4cbb6263654afef6aad50d987d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a7018ae4cbb6263654afef6aad50d987d">addFile</a> (const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;name)</td></tr>
<tr class="memdesc:a7018ae4cbb6263654afef6aad50d987d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a file to the <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one. ">MultiFileBase</a> object.  <a href="#a7018ae4cbb6263654afef6aad50d987d">More...</a><br/></td></tr>
<tr class="separator:a7018ae4cbb6263654afef6aad50d987d inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6b407fa39ae6bf86a967f03052fd03 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a8d6b407fa39ae6bf86a967f03052fd03">deleteFile</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#abdc7af629b47c2b77a375a726c71c6e8">fileId</a>)</td></tr>
<tr class="memdesc:a8d6b407fa39ae6bf86a967f03052fd03 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a file.  <a href="#a8d6b407fa39ae6bf86a967f03052fd03">More...</a><br/></td></tr>
<tr class="separator:a8d6b407fa39ae6bf86a967f03052fd03 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b239c97cf26fad6aa5df648d07bd3d3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a9b239c97cf26fad6aa5df648d07bd3d3">read</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#abdc7af629b47c2b77a375a726c71c6e8">fileId</a>, void *buffer, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#aaca834cf72eab33c560d5a48a7992dc3">size</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> offset)</td></tr>
<tr class="memdesc:a9b239c97cf26fad6aa5df648d07bd3d3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block at the given offset.  <a href="#a9b239c97cf26fad6aa5df648d07bd3d3">More...</a><br/></td></tr>
<tr class="separator:a9b239c97cf26fad6aa5df648d07bd3d3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a600b463c2122ab6e3034349da29ecebd inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a600b463c2122ab6e3034349da29ecebd">write</a> (<a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#abdc7af629b47c2b77a375a726c71c6e8">fileId</a>, const void *buffer, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> <a class="el" href="classcasacore_1_1MultiFileBase.html#aaca834cf72eab33c560d5a48a7992dc3">size</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> offset)</td></tr>
<tr class="memdesc:a600b463c2122ab6e3034349da29ecebd inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block at the given offset.  <a href="#a600b463c2122ab6e3034349da29ecebd">More...</a><br/></td></tr>
<tr class="separator:a600b463c2122ab6e3034349da29ecebd inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0343a739f47db0c2dbb09ef28738983 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ad0343a739f47db0c2dbb09ef28738983">flush</a> ()</td></tr>
<tr class="memdesc:ad0343a739f47db0c2dbb09ef28738983 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the file by writing all dirty data and all header info.  <a href="#ad0343a739f47db0c2dbb09ef28738983">More...</a><br/></td></tr>
<tr class="separator:ad0343a739f47db0c2dbb09ef28738983 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d121a558ce7cb5f7970d7b7f50d56f inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a61d121a558ce7cb5f7970d7b7f50d56f">resync</a> ()</td></tr>
<tr class="memdesc:a61d121a558ce7cb5f7970d7b7f50d56f inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resync with another process by clearing the buffers and rereading the header.  <a href="#a61d121a558ce7cb5f7970d7b7f50d56f">More...</a><br/></td></tr>
<tr class="separator:a61d121a558ce7cb5f7970d7b7f50d56f inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa609b049a4c26b21a0f5e79c770e5e13 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#aa609b049a4c26b21a0f5e79c770e5e13">fileName</a> () const </td></tr>
<tr class="memdesc:aa609b049a4c26b21a0f5e79c770e5e13 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file name of the <a class="el" href="classcasacore_1_1MultiFileBase.html" title="Abstract base class to combine multiple files in a single one. ">MultiFileBase</a>.  <a href="#aa609b049a4c26b21a0f5e79c770e5e13">More...</a><br/></td></tr>
<tr class="separator:aa609b049a4c26b21a0f5e79c770e5e13 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0496a705db8e7975c71362131b949ca4 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a0496a705db8e7975c71362131b949ca4">isWritable</a> () const </td></tr>
<tr class="memdesc:a0496a705db8e7975c71362131b949ca4 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Is the file writable?  <a href="#a0496a705db8e7975c71362131b949ca4">More...</a><br/></td></tr>
<tr class="separator:a0496a705db8e7975c71362131b949ca4 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad013052a5fbc7af597fdc17b44a18786 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ad013052a5fbc7af597fdc17b44a18786">blockSize</a> () const </td></tr>
<tr class="memdesc:ad013052a5fbc7af597fdc17b44a18786 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the block size used.  <a href="#ad013052a5fbc7af597fdc17b44a18786">More...</a><br/></td></tr>
<tr class="separator:ad013052a5fbc7af597fdc17b44a18786 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40553a4169dc9960e83e32e10b28a379 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a5c559d8d8bf2ae7f67b439955d6be88a">uInt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a40553a4169dc9960e83e32e10b28a379">nfile</a> () const </td></tr>
<tr class="memdesc:a40553a4169dc9960e83e32e10b28a379 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the nr of virtual files.  <a href="#a40553a4169dc9960e83e32e10b28a379">More...</a><br/></td></tr>
<tr class="separator:a40553a4169dc9960e83e32e10b28a379 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaca834cf72eab33c560d5a48a7992dc3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#aaca834cf72eab33c560d5a48a7992dc3">size</a> () const </td></tr>
<tr class="memdesc:aaca834cf72eab33c560d5a48a7992dc3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the total nr of data blocks used.  <a href="#aaca834cf72eab33c560d5a48a7992dc3">More...</a><br/></td></tr>
<tr class="separator:aaca834cf72eab33c560d5a48a7992dc3 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e48db885d724f1898f3f54062db21d2 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">const vector&lt; <a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a0e48db885d724f1898f3f54062db21d2">info</a> () const </td></tr>
<tr class="memdesc:a0e48db885d724f1898f3f54062db21d2 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the info object (for test purposes mainly).  <a href="#a0e48db885d724f1898f3f54062db21d2">More...</a><br/></td></tr>
<tr class="separator:a0e48db885d724f1898f3f54062db21d2 inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad89799501dd600791de5e564ea8e23bb inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">const vector&lt; <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ad89799501dd600791de5e564ea8e23bb">freeBlocks</a> () const </td></tr>
<tr class="memdesc:ad89799501dd600791de5e564ea8e23bb inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the free blocks (for test purposes mainly).  <a href="#ad89799501dd600791de5e564ea8e23bb">More...</a><br/></td></tr>
<tr class="separator:ad89799501dd600791de5e564ea8e23bb inherit pub_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ab3cf76c387d68fcff5c53bebc549c9c7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#ab3cf76c387d68fcff5c53bebc549c9c7">doAddFile</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;)</td></tr>
<tr class="memdesc:ab3cf76c387d68fcff5c53bebc549c9c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the class-specific actions on adding a file.  <a href="#ab3cf76c387d68fcff5c53bebc549c9c7">More...</a><br/></td></tr>
<tr class="separator:ab3cf76c387d68fcff5c53bebc549c9c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe0c3c31f41ace182faa684409289819"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#abe0c3c31f41ace182faa684409289819">doDeleteFile</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;)</td></tr>
<tr class="memdesc:abe0c3c31f41ace182faa684409289819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do the class-specific actions on deleting a file.  <a href="#abe0c3c31f41ace182faa684409289819">More...</a><br/></td></tr>
<tr class="separator:abe0c3c31f41ace182faa684409289819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99c9528dfcb71ddd581304e6961992c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#ae99c9528dfcb71ddd581304e6961992c">flushFile</a> ()</td></tr>
<tr class="memdesc:ae99c9528dfcb71ddd581304e6961992c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush the file itself.  <a href="#ae99c9528dfcb71ddd581304e6961992c">More...</a><br/></td></tr>
<tr class="separator:ae99c9528dfcb71ddd581304e6961992c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4079e4c6dcfb1a4df310a1f970bb00e6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a4079e4c6dcfb1a4df310a1f970bb00e6">close</a> ()</td></tr>
<tr class="memdesc:a4079e4c6dcfb1a4df310a1f970bb00e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush and close the file.  <a href="#a4079e4c6dcfb1a4df310a1f970bb00e6">More...</a><br/></td></tr>
<tr class="separator:a4079e4c6dcfb1a4df310a1f970bb00e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a992af84f35dd6909374c37c04c9de853"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a992af84f35dd6909374c37c04c9de853">writeHeader</a> ()</td></tr>
<tr class="memdesc:a992af84f35dd6909374c37c04c9de853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header info.  <a href="#a992af84f35dd6909374c37c04c9de853">More...</a><br/></td></tr>
<tr class="separator:a992af84f35dd6909374c37c04c9de853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef75d66385871b3895710a636626ebba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#aef75d66385871b3895710a636626ebba">readHeader</a> (<a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a> always=<a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a>)</td></tr>
<tr class="memdesc:aef75d66385871b3895710a636626ebba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the header info.  <a href="#aef75d66385871b3895710a636626ebba">More...</a><br/></td></tr>
<tr class="separator:aef75d66385871b3895710a636626ebba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249a80dcfe80deb704de0145df293b0d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a249a80dcfe80deb704de0145df293b0d">extend</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;<a class="el" href="classcasacore_1_1MultiFileBase.html#a0e48db885d724f1898f3f54062db21d2">info</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> lastblk)</td></tr>
<tr class="memdesc:a249a80dcfe80deb704de0145df293b0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extend the virtual file to fit lastblk.  <a href="#a249a80dcfe80deb704de0145df293b0d">More...</a><br/></td></tr>
<tr class="separator:a249a80dcfe80deb704de0145df293b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c74477ff1c844998a97ead22f70d93a"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a1c74477ff1c844998a97ead22f70d93a">writeBlock</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;<a class="el" href="classcasacore_1_1MultiFileBase.html#a0e48db885d724f1898f3f54062db21d2">info</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> blknr, const void *buffer)</td></tr>
<tr class="memdesc:a1c74477ff1c844998a97ead22f70d93a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a data block.  <a href="#a1c74477ff1c844998a97ead22f70d93a">More...</a><br/></td></tr>
<tr class="separator:a1c74477ff1c844998a97ead22f70d93a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8959cf7a19f68ab9223d2d0d8a37afd5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a8959cf7a19f68ab9223d2d0d8a37afd5">readBlock</a> (<a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;<a class="el" href="classcasacore_1_1MultiFileBase.html#a0e48db885d724f1898f3f54062db21d2">info</a>, <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> blknr, void *buffer)</td></tr>
<tr class="memdesc:a8959cf7a19f68ab9223d2d0d8a37afd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a data block.  <a href="#a8959cf7a19f68ab9223d2d0d8a37afd5">More...</a><br/></td></tr>
<tr class="separator:a8959cf7a19f68ab9223d2d0d8a37afd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac76bdb234443254993767ae4dcd018cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1FiledesIO.html">FiledesIO</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#ac76bdb234443254993767ae4dcd018cd">itsIO</a></td></tr>
<tr class="separator:ac76bdb234443254993767ae4dcd018cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17451199251b73d41a55c54876ce43bf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFile.html#a17451199251b73d41a55c54876ce43bf">itsFD</a></td></tr>
<tr class="separator:a17451199251b73d41a55c54876ce43bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classcasacore_1_1MultiFileBase"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classcasacore_1_1MultiFileBase')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classcasacore_1_1MultiFileBase.html">casacore::MultiFileBase</a></td></tr>
<tr class="memitem:ac9621228e89dd8d17f0e8e607180adf4 inherit pro_methods_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ac9621228e89dd8d17f0e8e607180adf4">setNewFile</a> ()</td></tr>
<tr class="memdesc:ac9621228e89dd8d17f0e8e607180adf4 inherit pro_methods_classcasacore_1_1MultiFileBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the flags and blockSize for a new MultiFile/HDF5.  <a href="#ac9621228e89dd8d17f0e8e607180adf4">More...</a><br/></td></tr>
<tr class="separator:ac9621228e89dd8d17f0e8e607180adf4 inherit pro_methods_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classcasacore_1_1MultiFileBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classcasacore_1_1MultiFileBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classcasacore_1_1MultiFileBase.html">casacore::MultiFileBase</a></td></tr>
<tr class="memitem:a0088ae2f2c84cc1901e95486bf3c1c24 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcasacore_1_1String.html">String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a0088ae2f2c84cc1901e95486bf3c1c24">itsName</a></td></tr>
<tr class="separator:a0088ae2f2c84cc1901e95486bf3c1c24 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b137ebd8d7c161f3621d253a2f1a66a inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a4b137ebd8d7c161f3621d253a2f1a66a">itsBlockSize</a></td></tr>
<tr class="separator:a4b137ebd8d7c161f3621d253a2f1a66a inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a903f549aa941451624e91e7781ffe4bb inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a903f549aa941451624e91e7781ffe4bb">itsNrBlock</a></td></tr>
<tr class="separator:a903f549aa941451624e91e7781ffe4bb inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4224aca5171999ccb11d391ddabb3b82 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a4224aca5171999ccb11d391ddabb3b82">itsHdrCounter</a></td></tr>
<tr class="separator:a4224aca5171999ccb11d391ddabb3b82 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6974a444a5aa078c4a2048845de52fde inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a6974a444a5aa078c4a2048845de52fde">itsInfo</a></td></tr>
<tr class="separator:a6974a444a5aa078c4a2048845de52fde inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ce31c35501d72b62610d5e66d15a0ef inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a3ce31c35501d72b62610d5e66d15a0ef">itsWritable</a></td></tr>
<tr class="separator:a3ce31c35501d72b62610d5e66d15a0ef inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab888d3767c7e6cae685d156d11b6eb5d inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#ab888d3767c7e6cae685d156d11b6eb5d">itsChanged</a></td></tr>
<tr class="separator:ab888d3767c7e6cae685d156d11b6eb5d inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a627b11acd6d0c22e895a15576845cab6 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memItemLeft" align="right" valign="top">vector&lt; <a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1MultiFileBase.html#a627b11acd6d0c22e895a15576845cab6">itsFreeBlocks</a></td></tr>
<tr class="separator:a627b11acd6d0c22e895a15576845cab6 inherit pro_attribs_classcasacore_1_1MultiFileBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to combine multiple files in a single one. </p>
<p><a class="anchor" id="MultiFile_summary"></a> </p>
<h3>Intended use:</h3>
<p>Public interface</p>
<h3>Review Status</h3>
<dl>
<dt>Test programs:</dt>
<dd>tMultiFile</dd>
</dl>
<h3>Synopsis</h3>
<p>This class is a container file holding multiple virtual files. It is primarily meant as a container file for the storage manager files of a table to reduce the number of files used (especially for Lustre) and to reduce the number of open files (especially when concatenating tables). <br/>
A secondary goal is offering the ability to use an IO buffer size that matches the file system well (large buffer size for e.g. ZFS).</p>
<p>The <a class="el" href="classcasacore_1_1SetupNewTable.html" title="Create a new table - define shapes, data managers, etc. ">SetupNewTable</a> constructor has a <a class="el" href="classcasacore_1_1StorageOption.html" title="Options defining how table files are organized. ">StorageOption</a> argument to define if a <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a> has to be used and if so, the buffer size to use. It is also possible to specify that through aipsrc variables.</p>
<p>A virtual file is spread over multiple (fixed size) data blocks in the <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a>. A data block is never shared by multiple files. For each virtual file <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a> keeps a <a class="el" href="structcasacore_1_1MultiFileInfo.html" title="Helper class for MultiFileBase containing info per internal file. ">MultiFileInfo</a> object telling the file size and the blocks numbers used for the file. When flushing the <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a>, this meta info is written into the header block. If it does not fit in the header block, the rest is written in a separate "-ext" file. if needed, continuation blocks. On open and resync, it is read back. <br/>
</p>
<p>A virtual file is represented by an <a class="el" href="classcasacore_1_1MFFileIO.html" title="Class for IO on a virtual file in a MultiFileBase. ">MFFileIO</a> object, which is derived from <a class="el" href="classcasacore_1_1ByteIO.html" title="Abstract base class for IO on a byte stream. ">ByteIO</a> and as such part of the casacore IO framework. It makes it possible for applications to access a virtual file in the same way as a regular file.</p>
<p>It is possible to delete a virtual file. Its blocks will be added to the free block list (which is also stored in the meta info).</p>
<h3>Example</h3>
<p><a class="anchor" id="MultiFile_example"></a> In principle it is possible to use the <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a> functions directly. However, in general it is much easier to use an <a class="el" href="classcasacore_1_1MFFileIO.html" title="Class for IO on a virtual file in a MultiFileBase. ">MFFileIO</a> object per virtual file as shown below. </p>
<div class="fragment"><div class="line"><span class="comment">// Create a new MultiFile using a block size of 1 MB.</span></div>
<div class="line"><a class="code" href="classcasacore_1_1MultiFile.html#a70eddf9e6c3676f6edaaa93ac837ce84">MultiFile</a> mfile(<span class="stringliteral">&quot;file.mf&#39;, ByteIO::New, 1048576);</span></div>
<div class="line"><span class="stringliteral">// Create a virtual file in it.</span></div>
<div class="line"><span class="stringliteral">MFFileIO mf1(mfile, &quot;</span>mf1<span class="stringliteral">&quot;, ByteIO::New);</span></div>
<div class="line"><span class="stringliteral">// Use it (for example) as the sink of AipsIO.</span></div>
<div class="line"><span class="stringliteral">AipsIO stream (&amp;mf1);</span></div>
<div class="line"><span class="stringliteral">// Write values.</span></div>
<div class="line"><span class="stringliteral">stream &lt;&lt; (Int)10;</span></div>
<div class="line"><span class="stringliteral">stream &lt;&lt; True;</span></div>
<div class="line"><span class="stringliteral">// Seek to beginning of file and read data in.</span></div>
<div class="line"><span class="stringliteral">stream.setpos (0);</span></div>
<div class="line"><span class="stringliteral">Int vali;</span></div>
<div class="line"><span class="stringliteral">Bool valb;</span></div>
<div class="line"><span class="stringliteral">stream &gt;&gt; vali &gt;&gt; valb;</span></div>
</div><!-- fragment --><h3>To Do</h3>
<ul>
<li>
write headers at alternating file positions (for robustness) </li>
<li>
possibly write headers entirely at the end if larger than blocksize </li>
</ul>

<p>Definition at line <a class="el" href="MultiFile_8h_source.html#l00108">108</a> of file <a class="el" href="MultiFile_8h_source.html">MultiFile.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a70eddf9e6c3676f6edaaa93ac837ce84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">casacore::MultiFile::MultiFile </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classcasacore_1_1String.html">String</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcasacore_1_1ByteIO.html#afa01b2ceb18a6e7db1ef40ebcd7158df">ByteIO::OpenOption</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abb6e2c1bac472ca1ebadadf96cc8426f">Int</a>&#160;</td>
          <td class="paramname"><em>blockSize</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open or create a <a class="el" href="classcasacore_1_1MultiFile.html" title="Class to combine multiple files in a single one. ">MultiFile</a> with the given name. </p>
<p>Upon creation the block size can be given. If 0, it uses the block size of the file system the file is on. </p>

</div>
</div>
<a class="anchor" id="aa5e0899d023182e1c2e19f79bb2306cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual casacore::MultiFile::~MultiFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The destructor flushes and closes the file. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4079e4c6dcfb1a4df310a1f970bb00e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush and close the file. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ac8ee8d5ea6bc9873830304b6204089a8">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="ab3cf76c387d68fcff5c53bebc549c9c7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::doAddFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do the class-specific actions on adding a file. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ad0070a6bb71a322bcaaae566b6d133c5">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="abe0c3c31f41ace182faa684409289819"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::doDeleteFile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Do the class-specific actions on deleting a file. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#aac97deb7a9f1eda38035748939c6f42f">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="a249a80dcfe80deb704de0145df293b0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::extend </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td>
          <td class="paramname"><em>lastblk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extend the virtual file to fit lastblk. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a22f7fc6e8032b63eedd48564f4b46e11">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="ae99c9528dfcb71ddd581304e6961992c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::flushFile </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush the file itself. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ac5d2e373a91fd5b3b7fc1b8c9507b0a3">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="a3d3e6d9077589f96e975057fc2f394fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::fsync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fsync the file (i.e., force the data to be physically written). </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a4ae5452b5b530624026d78bf0b6ed6e5">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="a8959cf7a19f68ab9223d2d0d8a37afd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::readBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td>
          <td class="paramname"><em>blknr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read a data block. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#abe6fe850347227e46b7bf1492913b201">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="aef75d66385871b3895710a636626ebba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::readHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#abd5691f9e13acc90d901e4007740ff98">Bool</a>&#160;</td>
          <td class="paramname"><em>always</em> = <code><a class="el" href="namespacecasacore.html#ad5c850f9e177173e0f7d0ad57091501d">True</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the header info. </p>
<p>If always==False, the info is only read if the header counter has changed. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a561eabec5242a5d79c97a432a057193b">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="a0e4f08b0109161215b73269ca378c1fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::reopenRW </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reopen the underlying file for read/write access. </p>
<p>Nothing will be done if the file is writable already. Otherwise it will be reopened and an exception will be thrown if it is not possible to reopen it for read/write access. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ab154e2b65059a2570eb7e0873b4b4759">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="a1c74477ff1c844998a97ead22f70d93a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::writeBlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcasacore_1_1MultiFileInfo.html">MultiFileInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacecasacore.html#a79c2dfec4363785472512dbf384675a1">Int64</a>&#160;</td>
          <td class="paramname"><em>blknr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write a data block. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#ab0107a61c31c8b6ede38ec06edb5d8f4">casacore::MultiFileBase</a>.</p>

</div>
</div>
<a class="anchor" id="a992af84f35dd6909374c37c04c9de853"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void casacore::MultiFile::writeHeader </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write the header info. </p>

<p>Implements <a class="el" href="classcasacore_1_1MultiFileBase.html#a2ee1b63d6993bf94609fd38db1962f82">casacore::MultiFileBase</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a17451199251b73d41a55c54876ce43bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int casacore::MultiFile::itsFD</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MultiFile_8h_source.html#l00154">154</a> of file <a class="el" href="MultiFile_8h_source.html">MultiFile.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac76bdb234443254993767ae4dcd018cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcasacore_1_1FiledesIO.html">FiledesIO</a> casacore::MultiFile::itsIO</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="MultiFile_8h_source.html#l00153">153</a> of file <a class="el" href="MultiFile_8h_source.html">MultiFile.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>casa/IO/<a class="el" href="MultiFile_8h_source.html">MultiFile.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
