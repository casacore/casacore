<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>casacore: HDF5_module</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">casacore
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">HDF5_module<div class="ingroups"><a class="el" href="group__casa.html">casa package (libcasa_casa)</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Classes binding casa to the HDF5 <a class="el" href="namespacecasacore_1_1C.html">C</a> API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__HDF5__module__internal__classes"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__HDF5__module__internal__classes.html">HDF5_module_internal_classes</a></td></tr>
<tr class="memdesc:group__HDF5__module__internal__classes"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal HDF5_module classes and functions. <br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1HDF5DataSet.html">casacore::HDF5DataSet</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class representing an HDF5 data set.  <a href="classcasacore_1_1HDF5DataSet.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1HDF5Error.html">casacore::HDF5Error</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base error class for HDF5 wrapper classes.  <a href="classcasacore_1_1HDF5Error.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1HDF5File.html">casacore::HDF5File</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class representing an HDF5 file.  <a href="classcasacore_1_1HDF5File.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1HDF5Group.html">casacore::HDF5Group</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class representing an HDF5 group.  <a href="classcasacore_1_1HDF5Group.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1HDF5Object.html">casacore::HDF5Object</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">An abstract base class representing an HDF5 object.  <a href="classcasacore_1_1HDF5Object.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcasacore_1_1HDF5Record.html">casacore::HDF5Record</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">A class to write/read a record into HDF5.  <a href="classcasacore_1_1HDF5Record.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Classes binding casa to the HDF5 <a class="el" href="namespacecasacore_1_1C.html">C</a> API. </p>
<p><a class="anchor" id="HDF5_module_anchor"></a> </p>
<p>See <a href="#HDF5_module_Class_List">below</a> for an overview of the classes in this module.</p>
<h3>Prerequisite</h3>
<ul>
<li>
HDF5 (see <a href="http://www.hdfgroup.uiuc.edu/HDF5/doc_dev_snapshot">http://www.hdfgroup.uiuc.edu/HDF5/doc_dev_snapshot</a>) </li>
</ul>
<h3>Etymology</h3>
<p>'HDF5' is version 5 of the Hierarchical Data Format.</p>
<h3>Synopsis</h3>
<p>This module's main purpose is to provide limited, but convenient access to the HDF5 <a class="el" href="namespacecasacore_1_1C.html">C</a> API. The classes offer the following services: </p>
<ul>
<li>
The burden of allocating and releasing the HDF5 resources (the so-called hid-s) is handled in an automatic and exception-safe way. </li>
<li>
The overwhelming and rather hard to use HDF5 <a class="el" href="namespacecasacore_1_1C.html">C</a> API is hidden. </li>
<li>
The standard casa data types (scalars and arrays) are fully supported. Because HDF5 does not support empty strings, they are transparantly replaced by the value '<b>empty</b>'. Unfortunately HDF5 does not support empty arrays, thus they cannot be stored. </li>
<li>
A <a class="el" href="classcasacore_1_1Record.html" title="A hierarchical collection of named fields of various types. ">Record</a> is stored as a group. Its values (scalars and arrays) are stored as attributes, while nested records are stored as nested groups. </li>
<li>
Bool values are stored as chars. </li>
<li>
Complex values are stored as compounds of two real values. </li>
<li>
Large arrays can be stored in HDF5 DataSets with an optional tile size (chunk size in HDF5 terminology). The array axes are reversed (fully transparantly) because HDF5 uses C-order, while casa Arrays use Fortran-order. </li>
<li>
Automatic printing of HDF5 messages is disabled. All errors are thrown as exceptions (<a class="el" href="classcasacore_1_1AipsError.html" title="Base class for all Casacore library errors. ">AipsError</a> or derived from it). </li>
</ul>
<p>The following classes are available: </p>
<ul>
<li>
<a class="el" href="classcasacore_1_1HDF5File.html" title="A class representing an HDF5 file. ">HDF5File</a> opens or creates an HDF5 file and closes it automatically. Furthermore it has a function to test if a file is in HDF5 format. </li>
<li>
<a class="el" href="classcasacore_1_1HDF5Record.html" title="A class to write/read a record into HDF5. ">HDF5Record</a> reads or writes a <a class="el" href="classcasacore_1_1Record.html" title="A hierarchical collection of named fields of various types. ">Record</a> as a group in an HDF5 object. </li>
<li>
<a class="el" href="classcasacore_1_1HDF5DataSet.html" title="A class representing an HDF5 data set. ">HDF5DataSet</a> opens or creates a possible tiled data set in an HDF5 object. The array can be read or written in parts. Currently the only data types supported are Bool, Int, Float, Double, Complex, and DComplex. </li>
<li>
<a class="el" href="classcasacore_1_1HDF5Group.html" title="A class representing an HDF5 group. ">HDF5Group</a> opens, creates, or removes a group in an HDF5 object. </li>
</ul>
<p>Note that <a class="el" href="classcasacore_1_1HDF5Object.html" title="An abstract base class representing an HDF5 object. ">HDF5Object</a> forms the base class of <a class="el" href="classcasacore_1_1HDF5File.html" title="A class representing an HDF5 file. ">HDF5File</a>, <a class="el" href="classcasacore_1_1HDF5Group.html" title="A class representing an HDF5 group. ">HDF5Group</a>, and <a class="el" href="classcasacore_1_1HDF5DataSet.html" title="A class representing an HDF5 data set. ">HDF5DataSet</a>. Most interfaces use <a class="el" href="classcasacore_1_1HDF5Object.html" title="An abstract base class representing an HDF5 object. ">HDF5Object</a>, thus are applicable to all these object types. <br/>
An <a class="el" href="classcasacore_1_1HDF5Object.html" title="An abstract base class representing an HDF5 object. ">HDF5Object</a> has a conversion operator to <code>hid_t</code>, thus can be used directly in any HDF5 function.</p>
<p>Because of HDF5 resource management the objects (e.g. <a class="el" href="classcasacore_1_1HDF5File.html" title="A class representing an HDF5 file. ">HDF5File</a>) cannot be copied. However, they can be used in shared pointers (like casa's <a class="el" href="classcasacore_1_1CountedPtr.html" title="Referenced counted pointer for constant data. ">CountedPtr</a> or boost's shared_ptr). <br/>
 Internally the classes use <a class="el" href="HDF5HidMeta_8h.html">HDF5HidMeta.h</a> which does the resource management for HDF5 meta data like attributes, property lists, etc..</p>
<p><br/>
<b>Note:</b><em> All HDF5 classes and all their functions are compiled, but it depends on the setting of HAVE_HDF5 how; If not set, all these functions are merely stubs and the class constructors throw an exception when used; The function <code><a class="el" href="classcasacore_1_1HDF5Object.html#a8623795e40117ebed5ea04a2d2da9175" title="Check if there is HDF5 support compiled in. ">HDF5Object::hasHDF5Support()</a></code> tells if HDF5 is used; See the casacore build instructions at casacore;googlecode;com for more information; </em><br/>
</p>
<h3>Example</h3>
<p><a class="anchor" id="HDF5_example"></a> See the various test programs.</p>
<h3>Motivation</h3>
<p>HDF5 offers a C++ interface. However, this interface is still quite complex and is too much C-oriented. Furthermore there was the need to support the casa data types, in particular reversal of array axes was needed.</p>
<h3>To Do</h3>
<ul>
<li>
Make it possible to store empty arrays (e.g. as a compound of a scalar (defining its type) and a vector (defining its shape). </li>
<li>
Set the optimal data set chunk cache size from a given access pattern. The current problem is that you can only set the cache size at the HDF5 file level, not at the data set level. Furthermore, setting the cache size requires that the file is closed first. For the time being a fixed cache size of 16 MB is used instead of the default 1 MB. </li>
</ul>
<p><a class="anchor" id="HDF5_module_Class_List"></a> </p>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
